<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">
<link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
  <link rel="apple-touch-icon" sizes="180x180" href="/logo/logo/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/logo/logo/favicon.svg">
  <link rel="icon" type="image/png" sizes="16x16" href="/logo/logo/favicon.svg">
  <link rel="mask-icon" href="/logo/logo/favicon.svg" color="#222">
  <link rel="manifest" href="/logo/logo/site.webmanifest">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"wbwblog.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"mac"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":{"utterances":{"order":-1}},"activeClass":"utterances"},"stickytabs":true,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="wbw121124&#39;s blog">
<meta property="og:type" content="blog">
<meta property="og:title" content="wbwConsoleGUI">
<meta property="og:url" content="https://wbwblog.github.io/wbwConsoleGUI/index.html">
<meta property="og:site_name" content="wbw121124&#39;s blog">
<meta property="og:description" content="wbw121124&#39;s blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-09-24T16:00:00.000Z">
<meta property="article:modified_time" content="2025-09-29T11:11:25.610Z">
<meta property="article:author" content="wbw121124">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://wbwblog.github.io/wbwConsoleGUI/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":false,"lang":"zh-CN","comments":true,"permalink":"https://wbwblog.github.io/wbwConsoleGUI/index.html","path":"wbwConsoleGUI/index.html","title":"wbwConsoleGUI"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>wbwConsoleGUI | wbw121124's blog
</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js" defer></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.5.0/mermaid.min.js","integrity":"sha256-2obLuIPcceEhkE3G09G33hBdmE55ivVcZUlcKcGNHjU="}}</script>
  <script src="/js/third-party/tags/mermaid.js" defer></script>

  <script class="next-config" data-name="wavedrom" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/wavedrom.min.js","integrity":"sha256-INLAoJc6quTNfiMWkGZniYO2cxE8mHpddnLow1m6RFs="}}</script>
  <script class="next-config" data-name="wavedrom_skin" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/skins/default.js","integrity":"sha256-fduc/Zszk5ezWws2uInY/ALWVmIrmV6VTgXbsYSReFI="}}</script>
  <script src="/js/third-party/tags/wavedrom.js" defer></script>


  <script src="/js/third-party/pace.js" defer></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous">
  <script class="next-config" data-name="katex" type="application/json">{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script>
  <script src="/js/third-party/math/katex.js" defer></script>


<script class="next-config" data-name="subtitle_typing" type="application/json">{"enable":true,"typing_speed":50,"deleting_speed":10,"pause_before_delete":1000,"pause_before_type":50,"subtitles":["Welcome to my blog","Enjoy your stay","Have a great day!","Where there is a will, there is a way.","Hope for the best, plan for the worst.","Wisdom is more precious than wealth.","Action speaks louder than words.","Time and tide wait for no man.","Experience is the best teacher.","All that glitters is not gold.","Failure is the mother of success.","A journey of a thousand miles begins with a single step.","The early bird catches the worm.","Nothing is impossible to a willing heart.","Don't put off till tomorrow what you can do today.","Every cloud has a silver lining.","Haste makes waste.","Better late than never.","Honesty is the best policy.","Live and learn.","Health is wealth.","First impressions are the most lasting.","One man's meat is another man's poison.","A friend in need is a friend indeed.","Life is not all roses.","Think twice before you act.","Pride goes before a fall.","Two heads are better than one.","Well begun is half done.","To be, or not to be, that is the question.","Action speak louder than words.","An idle youth,a needy age.","All is well that ends well.","Misfortune is a good teacher.","Faith can move mountains.","He that promises too much means nothing.","He would climb the ladder must begin at the bottom.","If you are not inside a house, you don not know about its leaking.","It is never too late to mend.","Yesterday will not be called again.","Men will die for wealth, as bird for food.","Success belongs to the persevering.","The man who has made up his mind to win will never say \\impossible\\.","Nothing venture, nothing have.","If you fail, don't forget to learn your lesson.","No pain, no gain","We can only move forward, forward, by any means necessary to move forward.","Your fearlessness comes from ignorance.","Intelligence lies in diligence, and genius in accumulation.","Never be satisfied with learning; never be tired of teaching.","Books are the ladder of human progress.","An inch of time is an inch of gold, but you can't buy time with gold."]}</script>
    <script defer src="/lib/subtitle_typing.js"></script><script>
  window.addEventListener('DOMContentLoaded', () => {
    'use strict';
    
    let time, hidden, visible, title = document.title;
    let favicon = document.querySelector('link[rel="icon"]');
    
      hidden = 'hiding | wbw121124\'s Blog';
      visible = 'welcome back to wbw121124\'s Blog';
    
    let random = t => t[Math.floor(Math.random() * t.length)];
    const change = () => {
      if (document.hidden) {
        favicon.setAttribute('href', '/logo/logo/favicon.svg');
        
          document.title = hidden;
        
        clearTimeout(time);
      } else {
        favicon.setAttribute('href', '/logo/logo/favicon.svg');
        
          document.title = visible;
        
        time = setTimeout(() => {
          document.title = title;
        }, 2000);
      }
    }
    document.addEventListener('visibilitychange', change, false);
  });
</script>
<script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="150" mobile="false"
	src="/js/pen.js"></script>
<style>
	.anchorjs-link {
		transition: all .25s linear;
		margin-left: -0.25em !important;
	}

	*:hover>.anchorjs-link {
		margin-left: 0.1875em !important;
	}

	.main-inner,
	header,
	.sidebar-inner,
	.animated {
		border-radius: 5px !important;
	}

	.custom-logo-image {
		height: 50px;
	}
</style>
<!-- <script src="/js/anchor.min.js" onload="anchors.add();"></script> -->
<script type="module">
	import '/js/anchor.min.js';
	function addAnchors() {
		if (window.location.pathname!==''&&window.location.pathname!=='/'&&window.location.pathname!=='/index.html') {
			anchors.add();
		}
	}
	document.addEventListener('DOMContentLoaded', () => {
		addAnchors();
	});
	setInterval(() => {addAnchors(); }, 5000);
</script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">wbw121124's blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">wbw121124的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">13</span></a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">16</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">13</span></a></li><li class="menu-item menu-item-docs"><a href="/wbwConsoleGUI/" rel="section"><i class="fa fa-book fa-fw"></i>Docs</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E4%BA%86%E4%BD%86%E6%98%AF%E6%96%87%E6%A1%A3%E6%B2%A1%E6%9C%89%E6%9B%B4%E6%96%B0"><span class="nav-number">1.</span> <span class="nav-text"> 版本更新了，但是文档没有更新！！！</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#wbwconsolegui-%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%9B%BE%E5%BD%A2%E7%94%A8%E6%88%B7%E7%95%8C%E9%9D%A2%E5%BA%93"><span class="nav-number"></span> <span class="nav-text"> wbwConsoleGUI - 控制台图形用户界面库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number"></span> <span class="nav-text"> 概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%B8%E5%8F%AF%E8%AF%81"><span class="nav-number"></span> <span class="nav-text"> 许可证</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E7%89%B9%E6%80%A7"><span class="nav-number"></span> <span class="nav-text"> 功能特性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD"><span class="nav-number"></span> <span class="nav-text"> 核心功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E4%BB%B6%E7%89%B9%E6%80%A7"><span class="nav-number"></span> <span class="nav-text"> 控件特性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B"><span class="nav-number"></span> <span class="nav-text"> 快速开始</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="nav-number"></span> <span class="nav-text"> 基本使用示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#api-%E6%96%87%E6%A1%A3"><span class="nav-number"></span> <span class="nav-text"> API 文档</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E7%B1%BB"><span class="nav-number"></span> <span class="nav-text"> 核心类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#application-%E7%B1%BB"><span class="nav-number">1.</span> <span class="nav-text"> Application 类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#control-%E7%B1%BB%E5%9F%BA%E7%B1%BB"><span class="nav-number">2.</span> <span class="nav-text"> Control 类（基类）</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E4%BB%B6%E7%B1%BB"><span class="nav-number"></span> <span class="nav-text"> 控件类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#button-%E7%B1%BB"><span class="nav-number">1.</span> <span class="nav-text"> Button 类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#label-%E7%B1%BB"><span class="nav-number">2.</span> <span class="nav-text"> Label 类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#checkbox-%E7%B1%BB"><span class="nav-number">3.</span> <span class="nav-text"> CheckBox 类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#progressbar-%E7%B1%BB"><span class="nav-number">4.</span> <span class="nav-text"> ProgressBar 类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B7%A5%E5%85%B7%E7%B1%BB"><span class="nav-number"></span> <span class="nav-text"> 工具类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#console-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-number">1.</span> <span class="nav-text"> Console 命名空间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#color-%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="nav-number">2.</span> <span class="nav-text"> Color 命名空间</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="nav-number"></span> <span class="nav-text"> 数据结构</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#point-%E7%BB%93%E6%9E%84"><span class="nav-number">1.</span> <span class="nav-text"> Point 结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#size-%E7%BB%93%E6%9E%84"><span class="nav-number">2.</span> <span class="nav-text"> Size 结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#rect-%E7%BB%93%E6%9E%84"><span class="nav-number">3.</span> <span class="nav-text"> Rect 结构</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%96%E8%AF%91%E8%AF%B4%E6%98%8E"><span class="nav-number"></span> <span class="nav-text"> 编译说明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#msvc-%E7%BC%96%E8%AF%91%E5%99%A8"><span class="nav-number"></span> <span class="nav-text"> MSVC 编译器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mingw-%E7%BC%96%E8%AF%91%E5%99%A8"><span class="nav-number"></span> <span class="nav-text"> MinGW 编译器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="nav-number"></span> <span class="nav-text"> 高级用法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8E%A7%E4%BB%B6"><span class="nav-number"></span> <span class="nav-text"> 自定义控件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%BC%A0%E6%A0%87%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="nav-number"></span> <span class="nav-text"> 鼠标事件处理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-number"></span> <span class="nav-text"> 注意事项</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E7%A8%8B%E5%BA%8F"><span class="nav-number"></span> <span class="nav-text"> 示例程序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%88%E6%9C%AC%E4%BF%A1%E6%81%AF"><span class="nav-number"></span> <span class="nav-text"> 版本信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E6%94%AF%E6%8C%81"><span class="nav-number"></span> <span class="nav-text"> 技术支持</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#wbwconsoleguih"><span class="nav-number"></span> <span class="nav-text"> wbwConsoleGUI.h</span></a></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="wbw121124"
      src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAMDElEQVR4Ae3Ba3BU53kH8P/znrP31UqrXXSzQDcIhgGEsxBsxLS244bUaWp7aprE49jTxo79IaPMdJrOdKYf2k6/N009HafjhsSNSesmziSFgDG2sYdLAKfiDkLogpDE6rJarXZXe/acPe9TBUfKYknmsNrV7of9/agzxCizRqDMMoEyywTKLBMos0ygzDKBMssEyiwTKLNMoMwygTLLBMosEyizTKDMMhXFpitTM2JcF1OGSJqcYWbMISKFVJv0OLjSJVfZzSowoXhUFIOuTk3arkSVazExoCMJa+zCXSWb/eZnqvUNNsOPFUedIcZKYTIjjvO3bKemqJ/ByBUR+dHUkNlRnWqHVLFSqDPEKDwmM+w4ddN+VMMU8setVK7JPFyTfBBSQeFRZ4hRYDHb9R7nz2doHIXhoeA6/Qlfaj0KjDpDjIKRpPe7DgyrJ1F4q8X25vifkulAwagomLQSueT+UYLCWBE35ZnpysGNM8/btCAKQ6Aw4urN//O8kqAwVlAsM9rlekXzDKAwBApgWu0/7/6+gSRWnGbOdNlem3H3oQAE8i2pjlxw/cCEjiIxpH7Ovldz30S+CeSVIeKX3HtNSqOoDJk+b99rOqaQVwL5wyQvu/9TQwwlQJOJq94fQzGRPwL5M+I8GhMDKBkRY3Ck4h3kj0CeaOp4v/0ISkw/PtBdt5AnKnLipESLOIssQ44PH5JhlBoTAed/1OsPI0u/3KqxF/dORU6CdPMvXd/GJzBKkXEOrp8jy3dn9g3zetw7gTLLVBQDraqlHTtht/Oxozw2Shs20eomsJTvHMSdxIMd1NDIsSn57tvwVoiOP4THwxfOck83VpyKoqjyK099hdrWZW7e4LFRWtOk/u0/IpnQ3zmIO9GGTcrz3+T+Xvnu2+TxiEd3ix07zX//V7OnGytOoBi45ypPTmCOPPYBliBPn8QcHg3zYD+KR6DMMoEyywTKLBMos0yg9Ign96h/908UCKLECBQNYQliU7t47I/h8aLEUGeIce8axZVvu5/FcjidUFRoKZgmZnm8ACOZxCyHE6qKmSSYIQRcbkiJ1Axm2e2w2aGnYRjI1Xdn9g3L9bh3KopF05AtmcC8tIY0fkdKJBOYp+vQdRSJipyYUGNcQ4JtHh1Z7AophBJhMnSTkSUzY5OmMKEiJ9QZYuTKXZPY+vJJZOmo8dS7bSgNt2aM42NJZLn0o22xG37kSqDMMoEyywTKLFNReCfOXfjVsRNYwKao3/rq04GqSlgzMRV75b9+mjEzWODxXTt3tm9GgakovEu9/Rev92Ex4UgkUFUJa0YjkbPd17CYpvr6ne2bcVeE5aDOECNXdWszz/9LFFmq7apDIdwpmdL6hoaxgKoq97c0E6xi4Gr/QCZjYoHWxvs8LifulDZ5Us8gyxt/4xu65ECuVCyD3aE21K7C3Xh92FJbh2UjYGP7VljmBBpwB5vNxDKoWIa0lu65PgyAACLcRvgtxhLqA9UupwNLILsDQmCelKynkRMSAorKhg5AM9mQDMCUdkBBrlQsw/Xevj/782/ibiq83ob76ru7ewD821+/9NCm9VhCpmndL94/3nXhMoAHNm984pEO9UYPckIuD62qlYN9ABTmG3H9YlSLxUKAH7lSsQxCABJ39eILzz37zJ4Hd+3WdZ2Zf7D/3bdPdQUqKzr3fOn+pkZk+clb+4eGw0+3rgFw8OKVn0SjXw+tR5arN4a+9z8HIrH47h0P/MWXHiUiWKAQrfM5VjnVqyqWQ9nR8PfICRH+aE/X0Ysf4m56e/t/ffo3AzcGASQ17c33jkem40Njkfd+c/7pRzvsqorbEpr+3yfPfmPL/fdX++s87tU+7/9eurZz3Rq7quC2pJZ+9h/+uWfoVmQ6fvpyj9/n3dS6Bksgm508Xo5FMcepiIZa46MTQeRKRa62d0x8/mF3Y8u3kIVq6nk6Ck3DPFMiYwL4xh9sgxDf++kBzInGk5f7b27fsBa3EWFDW3OjrwK3NfoqNrQ1EwhzLvffjMaTmHP8/NWvfH4XJMMwAYaqQBGYRwDjE9rWx7d3TJw+FkROVORq5yNjHqfjs+tbkUXUNXIqybEoZknGdArpDOY5bZtbVp/r6cdtQojGmgDmeBz2F7/2lDxxGlICUIV48WtPyZ7LmNNYExBCSClxW1NtELEUNAPzHCp8LgjCLJsdho4FOh4ZO30siJwI5MTlNlc3J7EAzyTI68MsZkwmkc4gm2a8sKujfW0zALtN/c4zT9YH/MhGAsz4GDNIIEt9wP+dZ56021QA7WubX9jVAc1AtnQGk0kwAyCvj2cSWKCxOelym8iJipz4A2kiLMTxGNXdB9WGaBymxAKVDscP/+rlcCpZ4XF5nE5kUxQspCgwTcz56mO7vrxrWzyZqnN6kNCwkCmRSMNfAU8FjwxiASL4A+nUjBv3TiAnUhIWxcyjI2J1C9IZLEUz6gJ+j9OJO1GwlqcicNrwMaeNpyIUrMWdPE5nXcCPtIGlpDNidTOPDoMZi5GSkBOBnETGHGaGsBiORTkxLbZsgcOBRZkSC1Cln3xVPDEKnxN+N/xu+Jw8MUo+P1X6sZApsSiHQ7Rv4UScY1EsxsxQZMyBnKjIiWGIa1d8GzbHsBgeDwNO8dmtmIrx5CS0NFhinhBwufExAmwOqqqGosj+HkiJWXYVH5NS9l8Ta1qpKsBTkzDSYPyOjyAl5pGAw0GBalRVcl8/Q8MSeq74DEMgJypydfRQ3YbNMSyBpyb51+MUqKaqKgQDAGGeTYEqMC9jcGSUE3EsKmPIvm7yVlBFJdRKzKuSMEz8HiOt89g4X+2GXUGVG0t4/1AdcqUiVz1XfCePrnro4XEsyuvAZJInIjwRQTZBCHghCPeCE3FOxJFNMiIJSMYnEOB1YAknj67queJDrgSW4a03mj46EcCiVAWVbghCNkWgyg1BWD5BqHJDEcgmCJVuqAoW89GJwFtvNGEZqDPEWJ6t2yd3PzFS25DCQpKhGciYmGVT4VRBhGyGCZsCizImVAXZmKFlYGQwS1XgtEEQFhgdcb39i4azZ6qxPNQZYuRDXUOq9r6U3S43tk+1b4vCAhqaoP4wB328fjUE4VMw09WbNDHNLXXcGIQF5z7yXz5XpetidNgVHnEhH1TkSXjEFR5xARgPO9u3RWGFpgOgiWnS+uTaBlS4sKiUTj3DFEtiVlqHNR8crhu47kVeqci3gT7v6IirtiGFu+GWOqTSNJVEIiXO9nKVBwEfV7jgsIMAw6Skhsg0TUyDGbN8bm6ugwWjI64bvV7km4q8Y3x4pHbPcwO4K0XwpmYMjtPQOCTTVBJTScJiCFxfzS31EAQLPjxSy4y8EyiAM8eCkxMOWEHETTVy22d49So4bVhIFVxbJR9Yy20NEAQLJiccZ44FUQAqCiCToQM/a/z6S72wyGHj5lpuroWm00waegbMsCnsdMDjABHuxYGfNWYyhAJQURhdp6pDD01s3BLDPXHa2WnHMlw+X9l1qhqFIVAwb+5ticdsWEHxmO3NvS0oGIGCmY7ZXn+1zTQJK8I06fVX26ZjNhSMQCH1dlfse62VGYXGjH2vtfZ2V6CQVBRY16lqAM+80KcojMIwTdr3WmvXqWoUmIrC6zpVPZNUnnu51+U2kW+pGeX1V9u6L1ai8KgzxFgRNXXasy/1NjbNIH+Gbrh//P22sbATK4I6Q4yVoij8yBfDj/3JiN0hsTx6WhzZ3/D+oTrTJKwU6gwxVlZllfHYl0c+1zFhs0vcO0MXp48Fj+xviE3ZsLKoM8QoBm+FsX1X5HMdE7UNKVgzOuI6fTx45nggMW1DMVBniFFUX/jCjS8+PgibgKpAERCEeZJhSmRMGPLQr9YcPtyEolJRbIYGpHSk8HuE32JkMzQUnYoSxChNAmWWCZRZJlBsuq7AAl1XUGwCxXYr7IUFt8JeFJtAsQ0MVkajTnyqaNQ5MFiJYhMoNinplwfX4VP98uA6KQnFJlACzl2oOfROK5Zw8HDbuQs1KAEqSsPh91qGRyoe391bX5fAnFth7/5Da690B1AaqDPEKCW1q5LBYEoIHht3j455UEpUlJjRcc/ouAclSaDMMoEyywTKLBMos0ygzLL/B2MJr7gba26mAAAAAElFTkSuQmCC">
  <p class="site-author-name" itemprop="name">wbw121124</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/wbw121124" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wbw121124" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/wbw121124" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;wbw121124" rel="noopener me" target="_blank">CSDN</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" class="cc-opacity" rel="noopener" target="_blank"><img src="https://cdnjs.cloudflare.com/ajax/libs/creativecommons-vocabulary/2020.11.3/assets/license_badges/big/by_nc_sa.svg" alt="Creative Commons"></a>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner page posts-expand">


    
    
    
    <div class="post-block" lang="zh-CN"><header class="post-header">

<h1 class="post-title" itemprop="name headline">wbwConsoleGUI<a href="https://github.com/wbwblog/wbwblog.github.io/edit/main/source/wbwConsoleGUI/index.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
</h1>

<div class="post-meta-container">
</div>

</header>

      
      
      
      <div class="post-body">
          <div class="note warning"><h4 id="版本更新了但是文档没有更新"><a class="markdownIt-Anchor" href="#版本更新了但是文档没有更新"></a> 版本更新了，但是文档没有更新！！！</h4>
</div>
<h1 id="wbwconsolegui-控制台图形用户界面库"><a class="markdownIt-Anchor" href="#wbwconsolegui-控制台图形用户界面库"></a> wbwConsoleGUI - 控制台图形用户界面库</h1>
<h2 id="概述"><a class="markdownIt-Anchor" href="#概述"></a> 概述</h2>
<p>wbwConsoleGUI 是一个基于 C++ 开发的轻量级控制台图形用户界面库，使用 Windows API 实现。该库提供了在 Windows 控制台环境中创建交互式 GUI 应用程序的能力，支持按钮、标签、复选框、进度条等常见控件，并包含完整的鼠标事件处理。</p>
<h2 id="许可证"><a class="markdownIt-Anchor" href="#许可证"></a> 许可证</h2>
<p>GPLv3.0 - 由 wbw121124 开发</p>
<h2 id="功能特性"><a class="markdownIt-Anchor" href="#功能特性"></a> 功能特性</h2>
<h3 id="核心功能"><a class="markdownIt-Anchor" href="#核心功能"></a> 核心功能</h3>
<ul>
<li><strong>跨编译器支持</strong>: 兼容 MSVC 和 MinGW 编译器</li>
<li><strong>鼠标交互</strong>: 完整的鼠标事件处理（点击、悬停、移动）</li>
<li><strong>多种控件</strong>: 按钮、标签、复选框、进度条</li>
<li><strong>颜色支持</strong>: 16 种控制台颜色配置</li>
<li><strong>实时渲染</strong>: 高效的界面更新机制</li>
</ul>
<h3 id="控件特性"><a class="markdownIt-Anchor" href="#控件特性"></a> 控件特性</h3>
<ul>
<li><strong>按钮</strong>: 支持点击事件，悬停和按下状态可视化</li>
<li><strong>标签</strong>: 支持文本显示和悬停效果</li>
<li><strong>复选框</strong>: 支持选中状态切换和事件回调</li>
<li><strong>进度条</strong>: 多种样式（经典、现代、渐变、块状），支持动画和百分比显示</li>
</ul>
<h2 id="快速开始"><a class="markdownIt-Anchor" href="#快速开始"></a> 快速开始</h2>
<h3 id="基本使用示例"><a class="markdownIt-Anchor" href="#基本使用示例"></a> 基本使用示例</h3>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;wbwConsoleGUI.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;omp.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _MSC_VER</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;fopenmp.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> defined(__GNUC__)</span></span><br><span class="line"><span class="meta">#<span class="keyword">warning</span> 使用MinGW编译时, 应在命令行中链接库: `-fopenmp`</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> wbwConsoleGUI;</span><br><span class="line">Application app;</span><br><span class="line">Button* button3 = <span class="keyword">new</span> <span class="built_in">Button</span>(<span class="built_in">Rect</span>(<span class="number">10</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">1</span>), <span class="string">&quot;按钮3&quot;</span>);</span><br><span class="line">ProgressBar* progressbar = <span class="keyword">new</span> <span class="built_in">ProgressBar</span>(<span class="built_in">Rect</span>(<span class="number">0</span>, <span class="number">8</span>, <span class="number">100</span>, <span class="number">1</span>));</span><br><span class="line"><span class="type">int</span> cnt, tot;</span><br><span class="line"><span class="comment">// 使用示例</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">run</span><span class="params">(<span class="type">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (x == <span class="number">1</span>)</span><br><span class="line">		app.<span class="built_in">run</span>();</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">while</span> (<span class="literal">true</span>)</span><br><span class="line">			progressbar-&gt;<span class="built_in">setValue</span>(++cnt %= <span class="number">101</span>), <span class="built_in">Sleep</span>(<span class="number">250</span>);</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Console::<span class="built_in">disableQuickEditMode</span>();</span><br><span class="line">	app.showDebug = <span class="literal">true</span>;</span><br><span class="line">	<span class="comment">// 创建控件</span></span><br><span class="line">	Label* title = <span class="keyword">new</span> <span class="built_in">Label</span>(<span class="built_in">Rect</span>(<span class="number">0</span>, <span class="number">2</span>, <span class="number">30</span>, <span class="number">1</span>), <span class="string">&quot;=== 控制台GUI演示 ===&quot;</span>);</span><br><span class="line">	title-&gt;<span class="built_in">setColors</span>(Color::BRIGHT_MAGENTA, Color::BLACK);</span><br><span class="line">	Button* button1 = <span class="keyword">new</span> <span class="built_in">Button</span>(<span class="built_in">Rect</span>(<span class="number">0</span>, <span class="number">5</span>, <span class="number">8</span>, <span class="number">1</span>), <span class="string">&quot;按钮1&quot;</span>);</span><br><span class="line">	button1-&gt;<span class="built_in">setOnClick</span>([]()</span><br><span class="line">		&#123;</span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(<span class="number">0</span>, <span class="number">12</span>);</span><br><span class="line">			Color::<span class="built_in">setColor</span>(Color::BRIGHT_GREEN, Color::BLACK);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;按钮1被点击了!                    &quot;</span>;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;);</span><br><span class="line">	progressbar-&gt;<span class="built_in">setShowValue</span>(<span class="literal">false</span>);</span><br><span class="line">	progressbar-&gt;<span class="built_in">setStyle</span>(<span class="built_in">ProgressBarStyle</span>(<span class="number">0</span>));</span><br><span class="line">	Button* button2 = <span class="keyword">new</span> <span class="built_in">Button</span>(<span class="built_in">Rect</span>(<span class="number">5</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">1</span>), <span class="string">&quot;按钮2&quot;</span>);</span><br><span class="line">	button2-&gt;<span class="built_in">setOnClick</span>([&amp;]()</span><br><span class="line">		&#123;</span><br><span class="line">			progressbar-&gt;<span class="built_in">setStyle</span>(<span class="built_in">ProgressBarStyle</span>(++tot % <span class="number">4</span>));</span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(<span class="number">0</span>, <span class="number">12</span>);</span><br><span class="line">			Color::<span class="built_in">setColor</span>(Color::BRIGHT_RED, Color::BLACK);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;按钮2被点击了!                    &quot;</span>;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;);</span><br><span class="line">	button3-&gt;<span class="built_in">setOnClick</span>([&amp;]()</span><br><span class="line">		&#123;</span><br><span class="line">			progressbar-&gt;<span class="built_in">setValue</span>(++cnt %= <span class="number">101</span>);</span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(<span class="number">0</span>, <span class="number">12</span>);</span><br><span class="line">			Color::<span class="built_in">setColor</span>(Color::BRIGHT_BLUE, Color::BLACK);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;按钮3被点击了!                    &quot;</span>;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;);</span><br><span class="line">	CheckBox* checkbox = <span class="keyword">new</span> <span class="built_in">CheckBox</span>(<span class="built_in">Rect</span>(<span class="number">0</span>, <span class="number">9</span>, <span class="number">12</span>, <span class="number">1</span>), <span class="string">&quot;启用特性&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">	checkbox-&gt;<span class="built_in">setOnChange</span>([](<span class="type">bool</span> checked)</span><br><span class="line">		&#123;</span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(<span class="number">0</span>, <span class="number">13</span>);</span><br><span class="line">			Color::<span class="built_in">setColor</span>(Color::BRIGHT_CYAN, Color::BLACK);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;复选框状态: &quot;</span> &lt;&lt; (checked ? <span class="string">&quot;已选中&quot;</span> : <span class="string">&quot;未选中&quot;</span>) &lt;&lt; <span class="string">&quot;        &quot;</span>;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;);</span><br><span class="line">	<span class="comment">// 创建文本框</span></span><br><span class="line">	TextBox* textBox = <span class="keyword">new</span> <span class="built_in">TextBox</span>(<span class="built_in">Rect</span>(<span class="number">0</span>, <span class="number">25</span>, <span class="number">20</span>, <span class="number">3</span>), <span class="string">&quot;输入框:&quot;</span>);</span><br><span class="line">	textBox-&gt;<span class="built_in">setOnClick</span>([]()</span><br><span class="line">		&#123;</span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(<span class="number">0</span>, <span class="number">15</span>);</span><br><span class="line">			Color::<span class="built_in">setColor</span>(Color::BRIGHT_GREEN, Color::BLACK);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;文本框获得焦点!                    &quot;</span>;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;);</span><br><span class="line">	<span class="comment">// 添加清除按钮</span></span><br><span class="line">	Button* clearButton = <span class="keyword">new</span> <span class="built_in">Button</span>(<span class="built_in">Rect</span>(<span class="number">22</span>, <span class="number">25</span>, <span class="number">8</span>, <span class="number">1</span>), <span class="string">&quot;清除&quot;</span>);</span><br><span class="line">	clearButton-&gt;<span class="built_in">setOnClick</span>([textBox]()</span><br><span class="line">		&#123;</span><br><span class="line">			textBox-&gt;<span class="built_in">setText</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(<span class="number">0</span>, <span class="number">15</span>);</span><br><span class="line">			Color::<span class="built_in">setColor</span>(Color::BRIGHT_RED, Color::BLACK);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;文本框已清除!                      &quot;</span>;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;);</span><br><span class="line">	<span class="comment">// 添加显示文本按钮</span></span><br><span class="line">	Button* showButton = <span class="keyword">new</span> <span class="built_in">Button</span>(<span class="built_in">Rect</span>(<span class="number">22</span>, <span class="number">27</span>, <span class="number">8</span>, <span class="number">1</span>), <span class="string">&quot;显示内容&quot;</span>);</span><br><span class="line">	showButton-&gt;<span class="built_in">setOnClick</span>([textBox]()</span><br><span class="line">		&#123;</span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(<span class="number">0</span>, <span class="number">16</span>);</span><br><span class="line">			Color::<span class="built_in">setColor</span>(Color::BRIGHT_CYAN, Color::BLACK);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;文本框内容: \&quot;&quot;</span> &lt;&lt; textBox-&gt;<span class="built_in">getText</span>() &lt;&lt; <span class="string">&quot;\&quot;&quot;</span>;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;);</span><br><span class="line">	<span class="comment">// 添加控件到应用</span></span><br><span class="line">	app.<span class="built_in">addControl</span>(title);</span><br><span class="line">	app.<span class="built_in">addControl</span>(button1);</span><br><span class="line">	app.<span class="built_in">addControl</span>(button2);</span><br><span class="line">	app.<span class="built_in">addControl</span>(button3);</span><br><span class="line">	app.<span class="built_in">addControl</span>(progressbar);</span><br><span class="line">	app.<span class="built_in">addControl</span>(checkbox);</span><br><span class="line">	app.<span class="built_in">addControl</span>(textBox);</span><br><span class="line">	app.<span class="built_in">addControl</span>(clearButton);</span><br><span class="line">	app.<span class="built_in">addControl</span>(showButton);</span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> omp parallel num_threads(2)</span></span><br><span class="line">	<span class="built_in">run</span>(<span class="built_in">omp_get_thread_num</span>());</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br></pre></td></tr></table></figure>
<h2 id="api-文档"><a class="markdownIt-Anchor" href="#api-文档"></a> API 文档</h2>
<h3 id="核心类"><a class="markdownIt-Anchor" href="#核心类"></a> 核心类</h3>
<h4 id="application-类"><a class="markdownIt-Anchor" href="#application-类"></a> Application 类</h4>
<p>主应用程序类，管理控件和事件循环。</p>
<p><strong>主要方法:</strong></p>
<ul>
<li><code>void run()</code>: 启动应用程序主循环</li>
<li><code>void stop()</code>: 停止应用程序</li>
<li><code>void addControl(Control*)</code>: 添加控件到应用</li>
<li><code>MouseInput&amp; getMouse()</code>: 获取鼠标输入对象</li>
</ul>
<h4 id="control-类基类"><a class="markdownIt-Anchor" href="#control-类基类"></a> Control 类（基类）</h4>
<p>所有控件的基类，提供基本属性和方法。</p>
<p><strong>主要属性:</strong></p>
<ul>
<li><code>bounds</code>: 控件位置和大小（Rect 对象）</li>
<li><code>text</code>: 控件文本</li>
<li><code>visible</code>: 可见性</li>
<li><code>enabled</code>: 启用状态</li>
</ul>
<p><strong>主要方法:</strong></p>
<ul>
<li><code>virtual void draw()</code>: 绘制控件（需子类实现）</li>
<li><code>virtual void handleMouse(const MouseInput&amp;)</code>: 处理鼠标事件</li>
<li><code>virtual void onClick()</code>: 点击事件回调</li>
</ul>
<h3 id="控件类"><a class="markdownIt-Anchor" href="#控件类"></a> 控件类</h3>
<h4 id="button-类"><a class="markdownIt-Anchor" href="#button-类"></a> Button 类</h4>
<p>按钮控件，支持点击事件。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Button* btn = <span class="keyword">new</span> <span class="built_in">Button</span>(<span class="built_in">Rect</span>(<span class="number">10</span>, <span class="number">5</span>, <span class="number">12</span>, <span class="number">1</span>), <span class="string">&quot;点击我&quot;</span>);</span><br><span class="line">btn-&gt;<span class="built_in">setOnClick</span>([]() &#123;</span><br><span class="line">    <span class="comment">// 点击处理逻辑</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="label-类"><a class="markdownIt-Anchor" href="#label-类"></a> Label 类</h4>
<p>文本标签控件。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Label* label = <span class="keyword">new</span> <span class="built_in">Label</span>(<span class="built_in">Rect</span>(<span class="number">5</span>, <span class="number">3</span>, <span class="number">20</span>, <span class="number">1</span>), <span class="string">&quot;这是一个标签&quot;</span>);</span><br><span class="line">label-&gt;<span class="built_in">setColors</span>(Color::BRIGHT_WHITE, Color::BLUE);</span><br></pre></td></tr></table></figure>
<h4 id="checkbox-类"><a class="markdownIt-Anchor" href="#checkbox-类"></a> CheckBox 类</h4>
<p>复选框控件。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CheckBox* checkbox = <span class="keyword">new</span> <span class="built_in">CheckBox</span>(<span class="built_in">Rect</span>(<span class="number">0</span>, <span class="number">8</span>, <span class="number">15</span>, <span class="number">1</span>), <span class="string">&quot;启用选项&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">checkbox-&gt;<span class="built_in">setOnChange</span>([](<span class="type">bool</span> checked) &#123;</span><br><span class="line">    <span class="comment">// 状态改变处理</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="progressbar-类"><a class="markdownIt-Anchor" href="#progressbar-类"></a> ProgressBar 类</h4>
<p>进度条控件，支持多种样式。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ProgressBar* progress = <span class="keyword">new</span> <span class="built_in">ProgressBar</span>(<span class="built_in">Rect</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">30</span>, <span class="number">1</span>), <span class="number">0</span>, <span class="number">100</span>);</span><br><span class="line">progress-&gt;<span class="built_in">setValue</span>(<span class="number">50</span>);</span><br><span class="line">progress-&gt;<span class="built_in">setStyle</span>(ProgressBarStyle::Modern);</span><br></pre></td></tr></table></figure>
<h3 id="工具类"><a class="markdownIt-Anchor" href="#工具类"></a> 工具类</h3>
<h4 id="console-命名空间"><a class="markdownIt-Anchor" href="#console-命名空间"></a> Console 命名空间</h4>
<p>控制台操作工具函数。</p>
<p><strong>主要函数:</strong></p>
<ul>
<li><code>void clear()</code>: 清空控制台</li>
<li><code>void setCursorPosition(int x, int y)</code>: 设置光标位置</li>
<li><code>void hideCursor()</code>: 隐藏光标</li>
<li><code>Size getConsoleSize()</code>: 获取控制台尺寸</li>
</ul>
<h4 id="color-命名空间"><a class="markdownIt-Anchor" href="#color-命名空间"></a> Color 命名空间</h4>
<p>颜色控制功能。</p>
<p><strong>颜色常量:</strong></p>
<ul>
<li>基本色: BLACK, BLUE, GREEN, RED 等</li>
<li>高亮色: BRIGHT_BLUE, BRIGHT_GREEN, BRIGHT_RED 等</li>
</ul>
<p><strong>主要函数:</strong></p>
<ul>
<li><code>void setColor(int foreground, int background)</code>: 设置颜色</li>
<li><code>void reset()</code>: 重置颜色</li>
</ul>
<h3 id="数据结构"><a class="markdownIt-Anchor" href="#数据结构"></a> 数据结构</h3>
<h4 id="point-结构"><a class="markdownIt-Anchor" href="#point-结构"></a> Point 结构</h4>
<p>表示二维坐标点。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Point <span class="title">p</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;  <span class="comment">// x=10, y=20</span></span><br></pre></td></tr></table></figure>
<h4 id="size-结构"><a class="markdownIt-Anchor" href="#size-结构"></a> Size 结构</h4>
<p>表示尺寸。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Size <span class="title">s</span><span class="params">(<span class="number">100</span>, <span class="number">50</span>)</span></span>;  <span class="comment">// width=100, height=50</span></span><br></pre></td></tr></table></figure>
<h4 id="rect-结构"><a class="markdownIt-Anchor" href="#rect-结构"></a> Rect 结构</h4>
<p>表示矩形区域。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Rect <span class="title">r</span><span class="params">(<span class="number">5</span>, <span class="number">5</span>, <span class="number">30</span>, <span class="number">10</span>)</span></span>;  <span class="comment">// x=5, y=5, width=30, height=10</span></span><br></pre></td></tr></table></figure>
<h2 id="编译说明"><a class="markdownIt-Anchor" href="#编译说明"></a> 编译说明</h2>
<h3 id="msvc-编译器"><a class="markdownIt-Anchor" href="#msvc-编译器"></a> MSVC 编译器</h3>
<p>自动链接所需库，无需额外配置。</p>
<h3 id="mingw-编译器"><a class="markdownIt-Anchor" href="#mingw-编译器"></a> MinGW 编译器</h3>
<p>需要在编译命令中手动链接库：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">g++ -o program main.cpp -lgdi32 -luser32</span><br></pre></td></tr></table></figure>
<h2 id="高级用法"><a class="markdownIt-Anchor" href="#高级用法"></a> 高级用法</h2>
<h3 id="自定义控件"><a class="markdownIt-Anchor" href="#自定义控件"></a> 自定义控件</h3>
<p>可以通过继承 <code>Control</code> 类创建自定义控件：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CustomControl</span> : <span class="keyword">public</span> Control &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">CustomControl</span>(<span class="type">const</span> Rect&amp; rect, <span class="type">const</span> std::string&amp; text) </span><br><span class="line">        : <span class="built_in">Control</span>(rect, text) &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">draw</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!visible) <span class="keyword">return</span>;</span><br><span class="line">        </span><br><span class="line">        Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line">        Color::<span class="built_in">setColor</span>(foregroundColor, backgroundColor);</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;自定义: &quot;</span> &lt;&lt; text;</span><br><span class="line">        Color::<span class="built_in">reset</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">onClick</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 自定义点击处理</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="鼠标事件处理"><a class="markdownIt-Anchor" href="#鼠标事件处理"></a> 鼠标事件处理</h3>
<p>可以通过 <code>MouseInput</code> 类获取详细的鼠标状态：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Application app;</span><br><span class="line"><span class="comment">// 在主循环中访问鼠标状态</span></span><br><span class="line"><span class="keyword">if</span> (app.<span class="built_in">getMouse</span>().<span class="built_in">isLeftClick</span>()) &#123;</span><br><span class="line">    POINT pos = app.<span class="built_in">getMouse</span>().<span class="built_in">getPosition</span>();</span><br><span class="line">    <span class="comment">// 处理左键点击</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="注意事项"><a class="markdownIt-Anchor" href="#注意事项"></a> 注意事项</h2>
<ol>
<li><strong>控制台字体</strong>: 建议使用等宽字体以获得最佳显示效果</li>
<li><strong>快速编辑模式</strong>: 库会自动禁用控制台的快速编辑模式以防止程序暂停</li>
<li><strong>性能考虑</strong>: 在控件较多时注意优化绘制逻辑</li>
<li><strong>线程安全</strong>: 当前版本非线程安全，需在单线程环境下使用</li>
</ol>
<h2 id="示例程序"><a class="markdownIt-Anchor" href="#示例程序"></a> 示例程序</h2>
<p>库中包含完整的演示程序，展示所有控件的使用方法：</p>
<ul>
<li>创建多个按钮并处理点击事件</li>
<li>使用复选框并监听状态变化</li>
<li>显示不同样式的进度条</li>
<li>实时显示鼠标位置信息</li>
</ul>
<h2 id="版本信息"><a class="markdownIt-Anchor" href="#版本信息"></a> 版本信息</h2>
<ul>
<li><strong>开发者</strong>: wbw121124</li>
<li><strong>许可证</strong>: GPLv3.0</li>
<li><strong>最后更新</strong>: 文档创建日期</li>
</ul>
<h2 id="技术支持"><a class="markdownIt-Anchor" href="#技术支持"></a> 技术支持</h2>
<p>如有问题或建议，请联系开发者或提交问题报告。</p>
<h2 id="wbwconsoleguih"><a class="markdownIt-Anchor" href="#wbwconsoleguih"></a> wbwConsoleGUI.h</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br><span class="line">969</span><br><span class="line">970</span><br><span class="line">971</span><br><span class="line">972</span><br><span class="line">973</span><br><span class="line">974</span><br><span class="line">975</span><br><span class="line">976</span><br><span class="line">977</span><br><span class="line">978</span><br><span class="line">979</span><br><span class="line">980</span><br><span class="line">981</span><br><span class="line">982</span><br><span class="line">983</span><br><span class="line">984</span><br><span class="line">985</span><br><span class="line">986</span><br><span class="line">987</span><br><span class="line">988</span><br><span class="line">989</span><br><span class="line">990</span><br><span class="line">991</span><br><span class="line">992</span><br><span class="line">993</span><br><span class="line">994</span><br><span class="line">995</span><br><span class="line">996</span><br><span class="line">997</span><br><span class="line">998</span><br><span class="line">999</span><br><span class="line">1000</span><br><span class="line">1001</span><br><span class="line">1002</span><br><span class="line">1003</span><br><span class="line">1004</span><br><span class="line">1005</span><br><span class="line">1006</span><br><span class="line">1007</span><br><span class="line">1008</span><br><span class="line">1009</span><br><span class="line">1010</span><br><span class="line">1011</span><br><span class="line">1012</span><br><span class="line">1013</span><br><span class="line">1014</span><br><span class="line">1015</span><br><span class="line">1016</span><br><span class="line">1017</span><br><span class="line">1018</span><br><span class="line">1019</span><br><span class="line">1020</span><br><span class="line">1021</span><br><span class="line">1022</span><br><span class="line">1023</span><br><span class="line">1024</span><br><span class="line">1025</span><br><span class="line">1026</span><br><span class="line">1027</span><br><span class="line">1028</span><br><span class="line">1029</span><br><span class="line">1030</span><br><span class="line">1031</span><br><span class="line">1032</span><br><span class="line">1033</span><br><span class="line">1034</span><br><span class="line">1035</span><br><span class="line">1036</span><br><span class="line">1037</span><br><span class="line">1038</span><br><span class="line">1039</span><br><span class="line">1040</span><br><span class="line">1041</span><br><span class="line">1042</span><br><span class="line">1043</span><br><span class="line">1044</span><br><span class="line">1045</span><br><span class="line">1046</span><br><span class="line">1047</span><br><span class="line">1048</span><br><span class="line">1049</span><br><span class="line">1050</span><br><span class="line">1051</span><br><span class="line">1052</span><br><span class="line">1053</span><br><span class="line">1054</span><br><span class="line">1055</span><br><span class="line">1056</span><br><span class="line">1057</span><br><span class="line">1058</span><br><span class="line">1059</span><br><span class="line">1060</span><br><span class="line">1061</span><br><span class="line">1062</span><br><span class="line">1063</span><br><span class="line">1064</span><br><span class="line">1065</span><br><span class="line">1066</span><br><span class="line">1067</span><br><span class="line">1068</span><br><span class="line">1069</span><br><span class="line">1070</span><br><span class="line">1071</span><br><span class="line">1072</span><br><span class="line">1073</span><br><span class="line">1074</span><br><span class="line">1075</span><br><span class="line">1076</span><br><span class="line">1077</span><br><span class="line">1078</span><br><span class="line">1079</span><br><span class="line">1080</span><br><span class="line">1081</span><br><span class="line">1082</span><br><span class="line">1083</span><br><span class="line">1084</span><br><span class="line">1085</span><br><span class="line">1086</span><br><span class="line">1087</span><br><span class="line">1088</span><br><span class="line">1089</span><br><span class="line">1090</span><br><span class="line">1091</span><br><span class="line">1092</span><br><span class="line">1093</span><br><span class="line">1094</span><br><span class="line">1095</span><br><span class="line">1096</span><br><span class="line">1097</span><br><span class="line">1098</span><br><span class="line">1099</span><br><span class="line">1100</span><br><span class="line">1101</span><br><span class="line">1102</span><br><span class="line">1103</span><br><span class="line">1104</span><br><span class="line">1105</span><br><span class="line">1106</span><br><span class="line">1107</span><br><span class="line">1108</span><br><span class="line">1109</span><br><span class="line">1110</span><br><span class="line">1111</span><br><span class="line">1112</span><br><span class="line">1113</span><br><span class="line">1114</span><br><span class="line">1115</span><br><span class="line">1116</span><br><span class="line">1117</span><br><span class="line">1118</span><br><span class="line">1119</span><br><span class="line">1120</span><br><span class="line">1121</span><br><span class="line">1122</span><br><span class="line">1123</span><br><span class="line">1124</span><br><span class="line">1125</span><br><span class="line">1126</span><br><span class="line">1127</span><br><span class="line">1128</span><br><span class="line">1129</span><br><span class="line">1130</span><br><span class="line">1131</span><br><span class="line">1132</span><br><span class="line">1133</span><br><span class="line">1134</span><br><span class="line">1135</span><br><span class="line">1136</span><br><span class="line">1137</span><br><span class="line">1138</span><br><span class="line">1139</span><br><span class="line">1140</span><br><span class="line">1141</span><br><span class="line">1142</span><br><span class="line">1143</span><br><span class="line">1144</span><br><span class="line">1145</span><br><span class="line">1146</span><br><span class="line">1147</span><br><span class="line">1148</span><br><span class="line">1149</span><br><span class="line">1150</span><br><span class="line">1151</span><br><span class="line">1152</span><br><span class="line">1153</span><br><span class="line">1154</span><br><span class="line">1155</span><br><span class="line">1156</span><br><span class="line">1157</span><br><span class="line">1158</span><br><span class="line">1159</span><br><span class="line">1160</span><br><span class="line">1161</span><br><span class="line">1162</span><br><span class="line">1163</span><br><span class="line">1164</span><br><span class="line">1165</span><br><span class="line">1166</span><br><span class="line">1167</span><br><span class="line">1168</span><br><span class="line">1169</span><br><span class="line">1170</span><br><span class="line">1171</span><br><span class="line">1172</span><br><span class="line">1173</span><br><span class="line">1174</span><br><span class="line">1175</span><br><span class="line">1176</span><br><span class="line">1177</span><br><span class="line">1178</span><br><span class="line">1179</span><br><span class="line">1180</span><br><span class="line">1181</span><br><span class="line">1182</span><br><span class="line">1183</span><br><span class="line">1184</span><br><span class="line">1185</span><br><span class="line">1186</span><br><span class="line">1187</span><br><span class="line">1188</span><br><span class="line">1189</span><br><span class="line">1190</span><br><span class="line">1191</span><br><span class="line">1192</span><br><span class="line">1193</span><br><span class="line">1194</span><br><span class="line">1195</span><br><span class="line">1196</span><br><span class="line">1197</span><br><span class="line">1198</span><br><span class="line">1199</span><br><span class="line">1200</span><br><span class="line">1201</span><br><span class="line">1202</span><br><span class="line">1203</span><br><span class="line">1204</span><br><span class="line">1205</span><br><span class="line">1206</span><br><span class="line">1207</span><br><span class="line">1208</span><br><span class="line">1209</span><br><span class="line">1210</span><br><span class="line">1211</span><br><span class="line">1212</span><br><span class="line">1213</span><br><span class="line">1214</span><br><span class="line">1215</span><br><span class="line">1216</span><br><span class="line">1217</span><br><span class="line">1218</span><br><span class="line">1219</span><br><span class="line">1220</span><br><span class="line">1221</span><br><span class="line">1222</span><br><span class="line">1223</span><br><span class="line">1224</span><br><span class="line">1225</span><br><span class="line">1226</span><br><span class="line">1227</span><br><span class="line">1228</span><br><span class="line">1229</span><br><span class="line">1230</span><br><span class="line">1231</span><br><span class="line">1232</span><br><span class="line">1233</span><br><span class="line">1234</span><br><span class="line">1235</span><br><span class="line">1236</span><br><span class="line">1237</span><br><span class="line">1238</span><br><span class="line">1239</span><br><span class="line">1240</span><br><span class="line">1241</span><br><span class="line">1242</span><br><span class="line">1243</span><br><span class="line">1244</span><br><span class="line">1245</span><br><span class="line">1246</span><br><span class="line">1247</span><br><span class="line">1248</span><br><span class="line">1249</span><br><span class="line">1250</span><br><span class="line">1251</span><br><span class="line">1252</span><br><span class="line">1253</span><br><span class="line">1254</span><br><span class="line">1255</span><br><span class="line">1256</span><br><span class="line">1257</span><br><span class="line">1258</span><br><span class="line">1259</span><br><span class="line">1260</span><br><span class="line">1261</span><br><span class="line">1262</span><br><span class="line">1263</span><br><span class="line">1264</span><br><span class="line">1265</span><br><span class="line">1266</span><br><span class="line">1267</span><br><span class="line">1268</span><br><span class="line">1269</span><br><span class="line">1270</span><br><span class="line">1271</span><br><span class="line">1272</span><br><span class="line">1273</span><br><span class="line">1274</span><br><span class="line">1275</span><br><span class="line">1276</span><br><span class="line">1277</span><br><span class="line">1278</span><br><span class="line">1279</span><br><span class="line">1280</span><br><span class="line">1281</span><br><span class="line">1282</span><br><span class="line">1283</span><br><span class="line">1284</span><br><span class="line">1285</span><br><span class="line">1286</span><br><span class="line">1287</span><br><span class="line">1288</span><br><span class="line">1289</span><br><span class="line">1290</span><br><span class="line">1291</span><br><span class="line">1292</span><br><span class="line">1293</span><br><span class="line">1294</span><br><span class="line">1295</span><br><span class="line">1296</span><br><span class="line">1297</span><br><span class="line">1298</span><br><span class="line">1299</span><br><span class="line">1300</span><br><span class="line">1301</span><br><span class="line">1302</span><br><span class="line">1303</span><br><span class="line">1304</span><br><span class="line">1305</span><br><span class="line">1306</span><br><span class="line">1307</span><br><span class="line">1308</span><br><span class="line">1309</span><br><span class="line">1310</span><br><span class="line">1311</span><br><span class="line">1312</span><br><span class="line">1313</span><br><span class="line">1314</span><br><span class="line">1315</span><br><span class="line">1316</span><br><span class="line">1317</span><br><span class="line">1318</span><br><span class="line">1319</span><br><span class="line">1320</span><br><span class="line">1321</span><br><span class="line">1322</span><br><span class="line">1323</span><br><span class="line">1324</span><br><span class="line">1325</span><br><span class="line">1326</span><br><span class="line">1327</span><br><span class="line">1328</span><br><span class="line">1329</span><br><span class="line">1330</span><br><span class="line">1331</span><br><span class="line">1332</span><br><span class="line">1333</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// wbwConsoleGUI - 1.0.5</span></span><br><span class="line"><span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;functional&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;conio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;memory&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> wbwConsoleGUIVer <span class="string">&quot;1.0.5&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> _MSC_VER</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;gdi32.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">pragma</span> comment(lib, <span class="string">&quot;user32.lib&quot;</span>)</span></span><br><span class="line"><span class="meta">#<span class="keyword">elif</span> defined(__GNUC__) &amp;&amp; false</span></span><br><span class="line"><span class="meta">#<span class="keyword">warning</span> 使用MinGW编译时, 应在命令行中链接库: `-lgdi32 - luser32`</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="keyword">namespace</span> wbwConsoleGUI</span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 基础结构体定义</span></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">		<span class="type">int</span> x, y;</span><br><span class="line">		<span class="built_in">Point</span>(<span class="type">int</span> x = <span class="number">0</span>, <span class="type">int</span> y = <span class="number">0</span>) : <span class="built_in">x</span>(x), <span class="built_in">y</span>(y) &#123; &#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Size</span> &#123;</span><br><span class="line">		<span class="type">int</span> width, height;</span><br><span class="line">		<span class="built_in">Size</span>(<span class="type">int</span> w = <span class="number">0</span>, <span class="type">int</span> h = <span class="number">0</span>) : <span class="built_in">width</span>(w), <span class="built_in">height</span>(h) &#123; &#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">Rect</span> &#123;</span><br><span class="line">		Point position;</span><br><span class="line">		Size size;</span><br><span class="line">		<span class="built_in">Rect</span>(<span class="type">int</span> x = <span class="number">0</span>, <span class="type">int</span> y = <span class="number">0</span>, <span class="type">int</span> w = <span class="number">0</span>, <span class="type">int</span> h = <span class="number">0</span>)</span><br><span class="line">			: <span class="built_in">position</span>(x, y), <span class="built_in">size</span>(w, h)</span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">contains</span><span class="params">(<span class="type">int</span> px, <span class="type">int</span> py)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> px &gt;= position.x &amp;&amp; px &lt; position.x + size.width &amp;&amp;</span><br><span class="line">				py &gt;= position.y &amp;&amp; py &lt; position.y + size.height;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 控制台工具函数</span></span><br><span class="line">	<span class="keyword">namespace</span> Console</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 禁用快速编辑模式，防止文本选中导致暂停</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">disableQuickEditMode</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			HANDLE hInput = <span class="built_in">GetStdHandle</span>(STD_INPUT_HANDLE);</span><br><span class="line">			DWORD mode;</span><br><span class="line">			<span class="built_in">GetConsoleMode</span>(hInput, &amp;mode);</span><br><span class="line">			<span class="comment">// mode = 0;</span></span><br><span class="line">			mode &amp;= ~ENABLE_QUICK_EDIT_MODE;  <span class="comment">// 禁用快速编辑</span></span><br><span class="line">			mode &amp;= ~ENABLE_INSERT_MODE;      <span class="comment">// 禁用插入模式</span></span><br><span class="line">			mode &amp;= ~ENABLE_EXTENDED_FLAGS;    <span class="comment">// 启用扩展标志</span></span><br><span class="line">			mode &amp;= ~ENABLE_ECHO_INPUT;</span><br><span class="line">			mode &amp;= ~ENABLE_PROCESSED_INPUT;</span><br><span class="line">			mode &amp;= ~ENABLE_WINDOW_INPUT;</span><br><span class="line">			<span class="built_in">SetConsoleMode</span>(hInput, mode);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 启用快速编辑模式（如果需要）</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">enableQuickEditMode</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			HANDLE hInput = <span class="built_in">GetStdHandle</span>(STD_INPUT_HANDLE);</span><br><span class="line">			DWORD mode;</span><br><span class="line">			<span class="built_in">GetConsoleMode</span>(hInput, &amp;mode);</span><br><span class="line">			mode |= ENABLE_QUICK_EDIT_MODE;</span><br><span class="line">			<span class="built_in">SetConsoleMode</span>(hInput, mode);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="built_in">system</span>(<span class="string">&quot;cls&quot;</span>);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setCursorPosition</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			COORD coord;</span><br><span class="line">			coord.X = x;</span><br><span class="line">			coord.Y = y;</span><br><span class="line">			<span class="built_in">SetConsoleCursorPosition</span>(<span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE), coord);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">hideCursor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			HANDLE consoleHandle = <span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE);</span><br><span class="line">			CONSOLE_CURSOR_INFO info;</span><br><span class="line">			info.dwSize = <span class="number">100</span>;</span><br><span class="line">			info.bVisible = FALSE;</span><br><span class="line">			<span class="built_in">SetConsoleCursorInfo</span>(consoleHandle, &amp;info);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">showCursor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			HANDLE consoleHandle = <span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE);</span><br><span class="line">			CONSOLE_CURSOR_INFO info;</span><br><span class="line">			info.dwSize = <span class="number">100</span>;</span><br><span class="line">			info.bVisible = TRUE;</span><br><span class="line">			<span class="built_in">SetConsoleCursorInfo</span>(consoleHandle, &amp;info);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function">Size <span class="title">getConsoleSize</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			CONSOLE_SCREEN_BUFFER_INFO csbi;</span><br><span class="line">			<span class="built_in">GetConsoleScreenBufferInfo</span>(<span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE), &amp;csbi);</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">Size</span>(csbi.srWindow.Right - csbi.srWindow.Left + <span class="number">1</span>,</span><br><span class="line">				csbi.srWindow.Bottom - csbi.srWindow.Top + <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 鼠标事件类型</span></span><br><span class="line">	<span class="keyword">enum class</span> <span class="title class_">MouseEvent</span> &#123;</span><br><span class="line">		LeftClick,</span><br><span class="line">		RightClick,</span><br><span class="line">		DoubleClick,</span><br><span class="line">		MouseMove,</span><br><span class="line">		NoEvent</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 鼠标状态结构</span></span><br><span class="line">	<span class="keyword">struct</span> <span class="title class_">MouseState</span> &#123;</span><br><span class="line">		POINT position;</span><br><span class="line">		<span class="type">bool</span> leftButtonDown;</span><br><span class="line">		<span class="type">bool</span> rightButtonDown;</span><br><span class="line">		MouseEvent lastEvent;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">MouseState</span>() : <span class="built_in">position</span>(&#123; <span class="number">-1</span>, <span class="number">-1</span> &#125;), <span class="built_in">leftButtonDown</span>(<span class="literal">false</span>),</span><br><span class="line">			<span class="built_in">rightButtonDown</span>(<span class="literal">false</span>), <span class="built_in">lastEvent</span>(MouseEvent::NoEvent)</span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="keyword">namespace</span> getPos</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">// 获取最前端的窗口</span></span><br><span class="line">		<span class="function">HWND <span class="title">GetForegroundWindowHandle</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">GetForegroundWindow</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 获取窗口的客户区矩形（相对于屏幕坐标）</span></span><br><span class="line">		<span class="function">RECT <span class="title">GetWindowClientRect</span><span class="params">(HWND hwnd)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			RECT rect;</span><br><span class="line">			<span class="built_in">GetClientRect</span>(hwnd, &amp;rect);</span><br><span class="line"></span><br><span class="line">			POINT topLeft = &#123; rect.left, rect.top &#125;;</span><br><span class="line">			POINT bottomRight = &#123; rect.right, rect.bottom &#125;;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">ClientToScreen</span>(hwnd, &amp;topLeft);</span><br><span class="line">			<span class="built_in">ClientToScreen</span>(hwnd, &amp;bottomRight);</span><br><span class="line"></span><br><span class="line">			rect.left = topLeft.x;</span><br><span class="line">			rect.top = topLeft.y;</span><br><span class="line">			rect.right = bottomRight.x;</span><br><span class="line">			rect.bottom = bottomRight.y;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> rect;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function">CONSOLE_FONT_INFO <span class="title">GetFontInfo</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			CONSOLE_FONT_INFO tm;</span><br><span class="line">			<span class="built_in">GetCurrentConsoleFont</span>(<span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE), <span class="literal">false</span>, &amp;tm);</span><br><span class="line">			<span class="keyword">return</span> tm;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 获取鼠标在窗口中的字体坐标（基于字符单元格）</span></span><br><span class="line">		<span class="function">POINT <span class="title">GetMousePositionInFontCoordinates</span><span class="params">(HWND hwnd)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			POINT mousePos;</span><br><span class="line">			<span class="built_in">GetCursorPos</span>(&amp;mousePos);</span><br><span class="line"></span><br><span class="line">			RECT clientRect = <span class="built_in">GetWindowClientRect</span>(hwnd);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 检查鼠标是否在窗口客户区内</span></span><br><span class="line">			<span class="keyword">if</span> (mousePos.x &lt; clientRect.left || mousePos.x &gt; clientRect.right ||</span><br><span class="line">				mousePos.y &lt; clientRect.top || mousePos.y &gt; clientRect.bottom)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> &#123; <span class="number">-1</span>, <span class="number">-1</span> &#125;;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">ScreenToClient</span>(hwnd, &amp;mousePos);</span><br><span class="line"></span><br><span class="line">			CONSOLE_FONT_INFO tm = <span class="built_in">GetFontInfo</span>();</span><br><span class="line"></span><br><span class="line">			POINT fontPos;</span><br><span class="line">			fontPos.x = mousePos.x / tm.dwFontSize.X;</span><br><span class="line">			fontPos.y = mousePos.y / tm.dwFontSize.Y;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> fontPos;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 获取控制台窗口中的鼠标位置</span></span><br><span class="line">		<span class="function">POINT <span class="title">getCursorPosInThisWindow</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			HWND foregroundWindow = <span class="built_in">GetForegroundWindowHandle</span>();</span><br><span class="line">			<span class="keyword">if</span> (foregroundWindow == <span class="built_in">GetConsoleWindow</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="built_in">GetMousePositionInFontCoordinates</span>(foregroundWindow);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> &#123; <span class="number">-1</span>, <span class="number">-1</span> &#125;;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 获取鼠标按钮状态</span></span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isLeftButtonDown</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">GetAsyncKeyState</span>(VK_LBUTTON) &amp; <span class="number">0x8000</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isRightButtonDown</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">GetAsyncKeyState</span>(VK_RBUTTON) &amp; <span class="number">0x8000</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 鼠标输入管理器</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">MouseInput</span> &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		MouseState currentState;</span><br><span class="line">		MouseState previousState;</span><br><span class="line">		<span class="type">bool</span> mouseEnabled;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">MouseInput</span>() : <span class="built_in">mouseEnabled</span>(<span class="literal">true</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			previousState = currentState;</span><br><span class="line"></span><br><span class="line">			currentState.position = getPos::<span class="built_in">getCursorPosInThisWindow</span>();</span><br><span class="line">			currentState.leftButtonDown = getPos::<span class="built_in">isLeftButtonDown</span>();</span><br><span class="line">			currentState.rightButtonDown = getPos::<span class="built_in">isRightButtonDown</span>();</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 检测鼠标事件</span></span><br><span class="line">			currentState.lastEvent = <span class="built_in">detectMouseEvent</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function">MouseEvent <span class="title">detectMouseEvent</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="comment">// 鼠标移动检测</span></span><br><span class="line">			<span class="keyword">if</span> (currentState.position.x != previousState.position.x ||</span><br><span class="line">				currentState.position.y != previousState.position.y)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> MouseEvent::MouseMove;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 左键点击检测</span></span><br><span class="line">			<span class="keyword">if</span> (!previousState.leftButtonDown &amp;&amp; currentState.leftButtonDown)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> MouseEvent::LeftClick;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 右键点击检测</span></span><br><span class="line">			<span class="keyword">if</span> (!previousState.rightButtonDown &amp;&amp; currentState.rightButtonDown)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> MouseEvent::RightClick;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">return</span> MouseEvent::NoEvent;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">		<span class="function">POINT <span class="title">getPosition</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> currentState.position; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isLeftClick</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> currentState.lastEvent == MouseEvent::LeftClick; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isRightClick</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> currentState.lastEvent == MouseEvent::RightClick; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isMouseMove</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> currentState.lastEvent == MouseEvent::MouseMove; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isInWindow</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> currentState.position.x &gt;= <span class="number">0</span> &amp;&amp; currentState.position.y &gt;= <span class="number">0</span>; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">enable</span><span class="params">()</span> </span>&#123; mouseEnabled = <span class="literal">true</span>; &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">disable</span><span class="params">()</span> </span>&#123; mouseEnabled = <span class="literal">false</span>; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isEnabled</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> mouseEnabled; &#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 颜色控制</span></span><br><span class="line">	<span class="keyword">namespace</span> Color</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">enum</span> <span class="title class_">Code</span> &#123;</span><br><span class="line">			BLACK = <span class="number">0</span>, BLUE = <span class="number">1</span>, GREEN = <span class="number">2</span>, CYAN = <span class="number">3</span>, RED = <span class="number">4</span>, MAGENTA = <span class="number">5</span>,</span><br><span class="line">			YELLOW = <span class="number">6</span>, WHITE = <span class="number">7</span>, GRAY = <span class="number">8</span>, BRIGHT_BLUE = <span class="number">9</span>, BRIGHT_GREEN = <span class="number">10</span>,</span><br><span class="line">			BRIGHT_CYAN = <span class="number">11</span>, BRIGHT_RED = <span class="number">12</span>, BRIGHT_MAGENTA = <span class="number">13</span>,</span><br><span class="line">			BRIGHT_YELLOW = <span class="number">14</span>, BRIGHT_WHITE = <span class="number">15</span></span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setColor</span><span class="params">(<span class="type">int</span> foreground, <span class="type">int</span> background = BLACK)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			HANDLE hConsole = <span class="built_in">GetStdHandle</span>(STD_OUTPUT_HANDLE);</span><br><span class="line">			<span class="built_in">SetConsoleTextAttribute</span>(hConsole, foreground + (background &lt;&lt; <span class="number">4</span>));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">reset</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="built_in">setColor</span>(WHITE, BLACK);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 基础控件类</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">Control</span> &#123;</span><br><span class="line">	<span class="keyword">protected</span>:</span><br><span class="line">		Rect bounds;</span><br><span class="line">		std::string text;</span><br><span class="line">		<span class="type">bool</span> visible;</span><br><span class="line">		<span class="type">bool</span> enabled;</span><br><span class="line">		<span class="type">int</span> foregroundColor;</span><br><span class="line">		<span class="type">int</span> backgroundColor;</span><br><span class="line">		<span class="type">bool</span> hovered;</span><br><span class="line">		<span class="type">bool</span> pressed;</span><br><span class="line">		<span class="type">bool</span> pressedR;</span><br><span class="line">		std::function&lt;<span class="type">void</span>()&gt; clickHandler, clickRHandler, hoverHandler, leaveHandler;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Control</span>(<span class="type">const</span> Rect&amp; rect = <span class="built_in">Rect</span>(), <span class="type">const</span> std::string&amp; text = <span class="string">&quot;&quot;</span>)</span><br><span class="line">			: <span class="built_in">bounds</span>(rect), <span class="built_in">text</span>(text), <span class="built_in">visible</span>(<span class="literal">true</span>), <span class="built_in">enabled</span>(<span class="literal">true</span>),</span><br><span class="line">			foregroundColor(Color::WHITE), <span class="built_in">backgroundColor</span>(Color::BLACK),</span><br><span class="line">			<span class="built_in">hovered</span>(<span class="literal">false</span>), <span class="built_in">pressed</span>(<span class="literal">false</span>)</span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">virtual</span> ~<span class="built_in">Control</span>() = <span class="keyword">default</span>;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">draw</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">handleMouse</span><span class="params">(<span class="type">const</span> MouseInput&amp; mouse)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!visible || !enabled) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			POINT mousePos = mouse.<span class="built_in">getPosition</span>();</span><br><span class="line">			hovered = <span class="built_in">isPointInRect</span>(mousePos, bounds);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (hovered &amp;&amp; mouse.<span class="built_in">isLeftClick</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				pressed = <span class="literal">true</span>;</span><br><span class="line">				<span class="built_in">onClick</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (pressed &amp;&amp; !mouse.<span class="built_in">isLeftClick</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				pressed = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (hovered &amp;&amp; mouse.<span class="built_in">isRightClick</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				pressedR = <span class="literal">true</span>;</span><br><span class="line">				<span class="built_in">onRClick</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (pressed &amp;&amp; !mouse.<span class="built_in">isRightClick</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				pressedR = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">onClick</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (enabled &amp;&amp; clickHandler)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">clickHandler</span>();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">onRClick</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (enabled &amp;&amp; clickRHandler)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">clickRHandler</span>();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">onHover</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (enabled &amp;&amp; hoverHandler)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">hoverHandler</span>();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">onLeave</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (enabled &amp;&amp; leaveHandler)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">leaveHandler</span>();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isPointInRect</span><span class="params">(<span class="type">const</span> POINT&amp; point, <span class="type">const</span> Rect&amp; rect)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> point.x &gt;= rect.position.x &amp;&amp;</span><br><span class="line">				point.x &lt; rect.position.x + rect.size.width &amp;&amp;</span><br><span class="line">				point.y &gt;= rect.position.y &amp;&amp;</span><br><span class="line">				point.y &lt; rect.position.y + rect.size.height;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">		<span class="comment">// 设置和获取方法</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setPosition</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123; bounds.position = <span class="built_in">Point</span>(x, y); &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setSize</span><span class="params">(<span class="type">int</span> w, <span class="type">int</span> h)</span> </span>&#123; bounds.size = <span class="built_in">Size</span>(w, h); &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setText</span><span class="params">(<span class="type">const</span> std::string&amp; newText)</span> </span>&#123; text = newText; &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setVisible</span><span class="params">(<span class="type">bool</span> isVisible)</span> </span>&#123; visible = isVisible; &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setEnabled</span><span class="params">(<span class="type">bool</span> isEnabled)</span> </span>&#123; enabled = isEnabled; &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setColors</span><span class="params">(<span class="type">int</span> fg, <span class="type">int</span> bg)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			foregroundColor = fg;</span><br><span class="line">			backgroundColor = bg;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function">Point <span class="title">getPosition</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> bounds.position; &#125;</span><br><span class="line">		<span class="function">Size <span class="title">getSize</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> bounds.size; &#125;</span><br><span class="line">		<span class="function">std::string <span class="title">getText</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> text; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isVisible</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> visible; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isEnabled</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> enabled; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isHovered</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> hovered; &#125;</span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isPressed</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> pressed; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setOnClick</span><span class="params">(<span class="type">const</span> std::function&lt;<span class="type">void</span>()&gt;&amp; handler)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			clickHandler = handler;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setOnRClick</span><span class="params">(<span class="type">const</span> std::function&lt;<span class="type">void</span>()&gt;&amp; handler)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			clickRHandler = handler;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setOnHover</span><span class="params">(<span class="type">const</span> std::function&lt;<span class="type">void</span>()&gt;&amp; handler)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			hoverHandler = handler;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setOnLeave</span><span class="params">(<span class="type">const</span> std::function&lt;<span class="type">void</span>()&gt;&amp; handler)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			leaveHandler = handler;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line"><span class="comment">// 文本框控件</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">TextBox</span> : <span class="keyword">public</span> Control &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		std::string content;</span><br><span class="line">		<span class="type">size_t</span> cursorPosition;</span><br><span class="line">		<span class="type">size_t</span> scrollOffset;</span><br><span class="line">		<span class="type">bool</span> hasFocus1;</span><br><span class="line">		<span class="type">bool</span> showCursor;</span><br><span class="line">		<span class="type">int</span> cursorBlinkRate;</span><br><span class="line">		std::chrono::steady_clock::time_point lastBlinkTime;</span><br><span class="line">		<span class="type">bool</span> cursorVisible;</span><br><span class="line">		<span class="type">size_t</span> selectionStart;</span><br><span class="line">		<span class="type">bool</span> hasSelection;</span><br><span class="line">		<span class="type">int</span> maxLength;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">TextBox</span>(<span class="type">const</span> Rect&amp; rect = <span class="built_in">Rect</span>(), <span class="type">const</span> std::string&amp; text = <span class="string">&quot;&quot;</span>)</span><br><span class="line">			: <span class="built_in">Control</span>(rect, text), <span class="built_in">content</span>(<span class="string">&quot;&quot;</span>), <span class="built_in">cursorPosition</span>(<span class="number">0</span>), <span class="built_in">scrollOffset</span>(<span class="number">0</span>),</span><br><span class="line">			<span class="built_in">hasFocus1</span>(<span class="literal">false</span>), <span class="built_in">showCursor</span>(<span class="literal">true</span>), <span class="built_in">cursorBlinkRate</span>(<span class="number">500</span>),</span><br><span class="line">			<span class="built_in">cursorVisible</span>(<span class="literal">true</span>), <span class="built_in">selectionStart</span>(<span class="number">0</span>), <span class="built_in">hasSelection</span>(<span class="literal">false</span>),</span><br><span class="line">			<span class="built_in">maxLength</span>(<span class="number">0</span>)  <span class="comment">// 0表示无限制</span></span><br><span class="line">		&#123;</span><br><span class="line">			lastBlinkTime = std::chrono::steady_clock::<span class="built_in">now</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">draw</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!visible) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 更新光标闪烁</span></span><br><span class="line">			<span class="built_in">updateCursorBlink</span>();</span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 根据状态设置颜色</span></span><br><span class="line">			<span class="keyword">if</span> (!enabled)</span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(Color::GRAY, Color::BLACK);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (hasFocus1)</span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(Color::BLACK, Color::BRIGHT_WHITE);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (hovered)</span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(Color::BRIGHT_WHITE, Color::GRAY);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(foregroundColor, backgroundColor);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 绘制边框</span></span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;+&quot;</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; bounds.size.width - <span class="number">2</span>; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				std::cout &lt;&lt; <span class="string">&quot;-&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;+&quot;</span>;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 绘制文本内容</span></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y + <span class="number">1</span>);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;|&quot;</span>;</span><br><span class="line"></span><br><span class="line">			std::string displayText = <span class="built_in">getDisplayText</span>();</span><br><span class="line">			<span class="type">int</span> textWidth = bounds.size.width - <span class="number">2</span>; <span class="comment">// 减去边框</span></span><br><span class="line"></span><br><span class="line">			<span class="comment">// 确保显示文本不超过可用宽度</span></span><br><span class="line">			<span class="keyword">if</span> (displayText.<span class="built_in">length</span>() &gt; <span class="built_in">static_cast</span>&lt;<span class="type">size_t</span>&gt;(textWidth))</span><br><span class="line">			&#123;</span><br><span class="line">				displayText = displayText.<span class="built_in">substr</span>(<span class="number">0</span>, textWidth);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			std::cout &lt;&lt; displayText;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 填充剩余空间</span></span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = displayText.<span class="built_in">length</span>(); i &lt; textWidth; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				std::cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;|&quot;</span>;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 绘制底部边框</span></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y + <span class="number">2</span>);</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;+&quot;</span>;</span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; bounds.size.width - <span class="number">2</span>; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				std::cout &lt;&lt; <span class="string">&quot;-&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;+&quot;</span>;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 如果有焦点且启用光标，绘制光标</span></span><br><span class="line">			<span class="keyword">if</span> (hasFocus1 &amp;&amp; enabled &amp;&amp; showCursor &amp;&amp; cursorVisible)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">drawCursor</span>();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">handleMouse</span><span class="params">(<span class="type">const</span> MouseInput&amp; mouse)</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!visible || !enabled) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			POINT mousePos = mouse.<span class="built_in">getPosition</span>();</span><br><span class="line">			<span class="type">bool</span> wasHovered = hovered;</span><br><span class="line">			hovered = <span class="built_in">isPointInRect</span>(mousePos, bounds);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 处理悬停状态变化</span></span><br><span class="line">			<span class="keyword">if</span> (hovered &amp;&amp; !wasHovered)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">onHover</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (!hovered &amp;&amp; wasHovered)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">onLeave</span>();</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 处理点击事件</span></span><br><span class="line">			<span class="keyword">if</span> (hovered &amp;&amp; mouse.<span class="built_in">isLeftClick</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">setFocus</span>(<span class="literal">true</span>);</span><br><span class="line">				<span class="comment">// 计算点击位置对应的光标位置</span></span><br><span class="line">				<span class="type">int</span> clickX = mousePos.x - bounds.position.x - <span class="number">1</span>; <span class="comment">// 减去左边框</span></span><br><span class="line">				<span class="keyword">if</span> (clickX &lt; <span class="number">0</span>) clickX = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">				cursorPosition = scrollOffset + clickX;</span><br><span class="line">				<span class="keyword">if</span> (cursorPosition &gt; content.<span class="built_in">length</span>())</span><br><span class="line">				&#123;</span><br><span class="line">					cursorPosition = content.<span class="built_in">length</span>();</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				selectionStart = cursorPosition;</span><br><span class="line">				hasSelection = <span class="literal">false</span>;</span><br><span class="line">				pressed = <span class="literal">true</span>;</span><br><span class="line">				<span class="built_in">onClick</span>();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (pressed &amp;&amp; !mouse.<span class="built_in">isLeftClick</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				pressed = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">handleKeyInput</span><span class="params">(<span class="type">char</span> key)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!hasFocus1 || !enabled) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">switch</span> (key)</span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">8</span>: <span class="comment">// Backspace</span></span><br><span class="line">				<span class="keyword">if</span> (hasSelection &amp;&amp; <span class="built_in">deleteSelection</span>())</span><br><span class="line">					;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (cursorPosition &gt; <span class="number">0</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					content.<span class="built_in">erase</span>(cursorPosition - <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">					cursorPosition--;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">case</span> <span class="number">13</span>: <span class="comment">// Enter</span></span><br><span class="line">				<span class="comment">// 触发回车事件</span></span><br><span class="line">				<span class="keyword">if</span> (clickHandler)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="built_in">clickHandler</span>();</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">case</span> <span class="number">1</span>: <span class="comment">// Ctrl+A (全选)</span></span><br><span class="line">				<span class="built_in">selectAll</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">default</span>:</span><br><span class="line">				<span class="comment">// 处理普通字符输入</span></span><br><span class="line">				<span class="keyword">if</span> (key &gt;= <span class="number">32</span> &amp;&amp; key &lt;= <span class="number">126</span>) <span class="comment">// 可打印字符</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span> (hasSelection)</span><br><span class="line">					&#123;</span><br><span class="line">						<span class="built_in">deleteSelection</span>();</span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">					<span class="keyword">if</span> (maxLength == <span class="number">0</span> || content.<span class="built_in">length</span>() &lt; <span class="built_in">static_cast</span>&lt;<span class="type">size_t</span>&gt;(maxLength))</span><br><span class="line">					&#123;</span><br><span class="line">						content.<span class="built_in">insert</span>(cursorPosition, <span class="number">1</span>, key);</span><br><span class="line">						cursorPosition++;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 更新滚动偏移量</span></span><br><span class="line">			<span class="built_in">updateScrollOffset</span>();</span><br><span class="line">			<span class="built_in">resetCursorBlink</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">handleSpecialKey</span><span class="params">(<span class="type">int</span> keyCode)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!hasFocus1 || !enabled) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">GetAsyncKeyState</span>(VK_LEFT) &amp;&amp; cursorPosition &gt; <span class="number">0</span>)</span><br><span class="line">				cursorPosition--;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">GetAsyncKeyState</span>(VK_RIGHT) &amp;&amp; cursorPosition &lt; content.<span class="built_in">length</span>())</span><br><span class="line">				cursorPosition++;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">GetAsyncKeyState</span>(VK_HOME))</span><br><span class="line">				cursorPosition = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">GetAsyncKeyState</span>(VK_END))</span><br><span class="line">				cursorPosition = content.<span class="built_in">length</span>();</span><br><span class="line">			<span class="keyword">if</span> (keyCode == <span class="number">83</span>)</span><br><span class="line">				<span class="keyword">if</span> (hasSelection)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">if</span> (!<span class="built_in">deleteSelection</span>() &amp;&amp;</span><br><span class="line">						cursorPosition &lt; content.<span class="built_in">length</span>())</span><br><span class="line">					&#123;</span><br><span class="line">						content.<span class="built_in">erase</span>(cursorPosition, <span class="number">1</span>);</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span> <span class="keyword">if</span> (cursorPosition &lt; content.<span class="built_in">length</span>())</span><br><span class="line">				&#123;</span><br><span class="line">					content.<span class="built_in">erase</span>(cursorPosition, <span class="number">1</span>);</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 处理选择（按住Shift） // ps:好了</span></span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">GetAsyncKeyState</span>(VK_SHIFT) &amp; <span class="number">0x8000</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (!hasSelection)</span><br><span class="line">				&#123;</span><br><span class="line">					selectionStart = cursorPosition;</span><br><span class="line">					hasSelection = <span class="literal">true</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				hasSelection = <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="built_in">updateScrollOffset</span>();</span><br><span class="line">			<span class="built_in">resetCursorBlink</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 设置和获取方法</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setText</span><span class="params">(<span class="type">const</span> std::string&amp; newText)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			content = newText;</span><br><span class="line">			cursorPosition = content.<span class="built_in">length</span>();</span><br><span class="line">			scrollOffset = <span class="number">0</span>;</span><br><span class="line">			hasSelection = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function">std::string <span class="title">getText</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> content; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setFocus</span><span class="params">(<span class="type">bool</span> focus)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			hasFocus1 = focus;</span><br><span class="line">			<span class="keyword">if</span> (hasFocus1)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="built_in">resetCursorBlink</span>();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">hasFocus</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> hasFocus1; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setMaxLength</span><span class="params">(<span class="type">int</span> length)</span> </span>&#123; maxLength = length; &#125;</span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getMaxLength</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> maxLength; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setShowCursor</span><span class="params">(<span class="type">bool</span> show)</span> </span>&#123; showCursor = show; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="function">std::string <span class="title">getDisplayText</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (scrollOffset &gt;= content.<span class="built_in">length</span>())</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> content.<span class="built_in">substr</span>(scrollOffset);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">drawCursor</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="type">int</span> cursorX = bounds.position.x + <span class="number">1</span> + (cursorPosition - scrollOffset);</span><br><span class="line">			<span class="type">int</span> cursorY = bounds.position.y + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (cursorX &gt;= bounds.position.x + <span class="number">1</span> &amp;&amp;</span><br><span class="line">				cursorX &lt; bounds.position.x + bounds.size.width - <span class="number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				Console::<span class="built_in">setCursorPosition</span>(cursorX, cursorY);</span><br><span class="line">				Color::<span class="built_in">setColor</span>(Color::BLACK, Color::BRIGHT_YELLOW);</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span> (cursorPosition &lt; content.<span class="built_in">length</span>())</span><br><span class="line">				&#123;</span><br><span class="line">					std::cout &lt;&lt; content[cursorPosition];</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				Color::<span class="built_in">reset</span>();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">updateCursorBlink</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">auto</span> currentTime = std::chrono::steady_clock::<span class="built_in">now</span>();</span><br><span class="line">			<span class="keyword">auto</span> elapsed = std::chrono::<span class="built_in">duration_cast</span>&lt;std::chrono::milliseconds&gt;(</span><br><span class="line">				currentTime - lastBlinkTime).<span class="built_in">count</span>();</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (elapsed &gt;= cursorBlinkRate)</span><br><span class="line">			&#123;</span><br><span class="line">				cursorVisible = !cursorVisible;</span><br><span class="line">				lastBlinkTime = currentTime;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">resetCursorBlink</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			cursorVisible = <span class="literal">true</span>;</span><br><span class="line">			lastBlinkTime = std::chrono::steady_clock::<span class="built_in">now</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">updateScrollOffset</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="type">int</span> textWidth = bounds.size.width - <span class="number">2</span>; <span class="comment">// 减去边框</span></span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (cursorPosition &lt; scrollOffset)</span><br><span class="line">			&#123;</span><br><span class="line">				scrollOffset = cursorPosition;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (cursorPosition &gt;= textWidth - <span class="number">1</span>)</span><br><span class="line">			&#123;</span><br><span class="line">				scrollOffset = cursorPosition - textWidth + <span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">deleteSelection</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!hasSelection) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">			<span class="type">size_t</span> start = std::<span class="built_in">min</span>(selectionStart, cursorPosition);</span><br><span class="line">			<span class="type">size_t</span> end = std::<span class="built_in">max</span>(selectionStart, cursorPosition);</span><br><span class="line">			<span class="keyword">if</span> (selectionStart + <span class="number">1</span> == cursorPosition)</span><br><span class="line">			&#123;</span><br><span class="line">				hasSelection = <span class="literal">false</span>;</span><br><span class="line">				cursorPosition = start + <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> (selectionStart - <span class="number">1</span> == cursorPosition)</span><br><span class="line">			&#123;</span><br><span class="line">				hasSelection = <span class="literal">false</span>;</span><br><span class="line">				cursorPosition = start;</span><br><span class="line">				<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			content.<span class="built_in">erase</span>(start, end - start + <span class="number">1</span>);</span><br><span class="line">			cursorPosition = start;</span><br><span class="line">			hasSelection = <span class="literal">false</span>;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">selectAll</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			selectionStart = <span class="number">0</span>;</span><br><span class="line">			cursorPosition = content.<span class="built_in">length</span>();</span><br><span class="line">			hasSelection = <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 增强的按钮控件（支持鼠标悬停和点击效果）</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">Button</span> : <span class="keyword">public</span> Control &#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Button</span>(<span class="type">const</span> Rect&amp; rect = <span class="built_in">Rect</span>(), <span class="type">const</span> std::string&amp; text = <span class="string">&quot;&quot;</span>)</span><br><span class="line">			: <span class="built_in">Control</span>(rect, text)</span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">draw</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!visible) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 根据状态改变颜色</span></span><br><span class="line">			<span class="keyword">if</span> (!enabled)</span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(Color::GRAY, backgroundColor);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (pressed)</span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(backgroundColor, foregroundColor); <span class="comment">// 反转颜色</span></span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (hovered)</span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(Color::BRIGHT_YELLOW, backgroundColor);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(foregroundColor, backgroundColor);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;[&quot;</span> &lt;&lt; text &lt;&lt; <span class="string">&quot;]&quot;</span>;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 增强的标签控件（支持鼠标悬停）</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">Label</span> : <span class="keyword">public</span> Control &#123;</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">Label</span>(<span class="type">const</span> Rect&amp; rect = <span class="built_in">Rect</span>(), <span class="type">const</span> std::string&amp; text = <span class="string">&quot;&quot;</span>)</span><br><span class="line">			: <span class="built_in">Control</span>(rect, text)</span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">draw</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!visible) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (hovered &amp;&amp; enabled)</span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(Color::BRIGHT_CYAN, backgroundColor);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(foregroundColor, backgroundColor);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			std::cout &lt;&lt; text;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 复选框控件</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">CheckBox</span> : <span class="keyword">public</span> Control &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">bool</span> checked;</span><br><span class="line">		std::function&lt;<span class="type">void</span>(<span class="type">bool</span>)&gt; changeHandler;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">CheckBox</span>(<span class="type">const</span> Rect&amp; rect = <span class="built_in">Rect</span>(), <span class="type">const</span> std::string&amp; text = <span class="string">&quot;&quot;</span>, <span class="type">bool</span> checked = <span class="literal">false</span>)</span><br><span class="line">			: <span class="built_in">Control</span>(rect, text), <span class="built_in">checked</span>(checked)</span><br><span class="line">		&#123;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">draw</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!visible) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (hovered &amp;&amp; enabled)</span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(Color::BRIGHT_GREEN, backgroundColor);</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				Color::<span class="built_in">setColor</span>(foregroundColor, backgroundColor);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			std::cout &lt;&lt; <span class="string">&quot;[&quot;</span> &lt;&lt; (checked ? <span class="string">&quot;X&quot;</span> : <span class="string">&quot; &quot;</span>) &lt;&lt; <span class="string">&quot;] &quot;</span> &lt;&lt; text;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">onClick</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (enabled)</span><br><span class="line">			&#123;</span><br><span class="line">				checked = !checked;</span><br><span class="line">				<span class="keyword">if</span> (changeHandler)</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="built_in">changeHandler</span>(checked);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> (clickHandler)</span><br><span class="line">					<span class="built_in">clickHandler</span>();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">bool</span> <span class="title">isChecked</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> checked; &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setChecked</span><span class="params">(<span class="type">bool</span> isChecked)</span> </span>&#123; checked = isChecked; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setOnChange</span><span class="params">(<span class="type">const</span> std::function&lt;<span class="type">void</span>(<span class="type">bool</span>)&gt;&amp; handler)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			changeHandler = handler;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 进度条样式枚举</span></span><br><span class="line">	<span class="keyword">enum class</span> <span class="title class_">ProgressBarStyle</span> &#123;</span><br><span class="line">		Classic,    <span class="comment">// 经典样式</span></span><br><span class="line">		Modern,     <span class="comment">// 现代样式</span></span><br><span class="line">		Gradient,   <span class="comment">// 渐变样式</span></span><br><span class="line">		Block       <span class="comment">// 块状样式</span></span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 进度条控件</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">ProgressBar</span> : <span class="keyword">public</span> Control &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="type">int</span> minValue;</span><br><span class="line">		<span class="type">int</span> maxValue;</span><br><span class="line">		<span class="type">int</span> currentValue;</span><br><span class="line">		ProgressBarStyle style;</span><br><span class="line">		<span class="type">bool</span> showPercentage;</span><br><span class="line">		<span class="type">bool</span> showValue;</span><br><span class="line">		<span class="type">bool</span> animated;</span><br><span class="line">		<span class="type">int</span> animationOffset;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// Windows颜色主题</span></span><br><span class="line">		<span class="keyword">struct</span> <span class="title class_">ProgressColors</span> &#123;</span><br><span class="line">			<span class="type">int</span> background;</span><br><span class="line">			<span class="type">int</span> progress;</span><br><span class="line">			<span class="type">int</span> border;</span><br><span class="line">			<span class="type">int</span> text;</span><br><span class="line">		&#125;;</span><br><span class="line"></span><br><span class="line">		ProgressColors colors;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="built_in">ProgressBar</span>(<span class="type">const</span> Rect&amp; rect = <span class="built_in">Rect</span>(), <span class="type">int</span> min = <span class="number">0</span>, <span class="type">int</span> max = <span class="number">100</span>)</span><br><span class="line">			: <span class="built_in">Control</span>(rect, <span class="string">&quot;&quot;</span>), <span class="built_in">minValue</span>(min), <span class="built_in">maxValue</span>(max), <span class="built_in">currentValue</span>(min),</span><br><span class="line">			<span class="built_in">style</span>(ProgressBarStyle::Modern), <span class="built_in">showPercentage</span>(<span class="literal">true</span>), <span class="built_in">showValue</span>(<span class="literal">true</span>),</span><br><span class="line">			<span class="built_in">animated</span>(<span class="literal">true</span>), <span class="built_in">animationOffset</span>(<span class="number">0</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="built_in">setModernColors</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">draw</span><span class="params">()</span> <span class="keyword">override</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!visible) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">switch</span> (style)</span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">case</span> ProgressBarStyle::Classic:</span><br><span class="line">				<span class="built_in">drawClassicProgressBar</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> ProgressBarStyle::Modern:</span><br><span class="line">				<span class="built_in">drawModernProgressBar</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> ProgressBarStyle::Gradient:</span><br><span class="line">				<span class="built_in">drawGradientProgressBar</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> ProgressBarStyle::Block:</span><br><span class="line">				<span class="built_in">drawBlockProgressBar</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">if</span> (animated)</span><br><span class="line">			&#123;</span><br><span class="line">				animationOffset = (animationOffset + <span class="number">1</span>) % <span class="number">4</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 设置值</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setValue</span><span class="params">(<span class="type">int</span> value)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			currentValue = std::<span class="built_in">max</span>(minValue, std::<span class="built_in">min</span>(maxValue, value));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setRange</span><span class="params">(<span class="type">int</span> min, <span class="type">int</span> max)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			minValue = min;</span><br><span class="line">			maxValue = max;</span><br><span class="line">			currentValue = std::<span class="built_in">max</span>(minValue, std::<span class="built_in">min</span>(maxValue, currentValue));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getValue</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> currentValue; &#125;</span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getMin</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> minValue; &#125;</span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getMax</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> maxValue; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 设置样式</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setStyle</span><span class="params">(ProgressBarStyle newStyle)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			style = newStyle;</span><br><span class="line">			<span class="keyword">switch</span> (style)</span><br><span class="line">			&#123;</span><br><span class="line">			<span class="keyword">case</span> ProgressBarStyle::Classic:</span><br><span class="line">				<span class="built_in">setClassicColors</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> ProgressBarStyle::Modern:</span><br><span class="line">				<span class="built_in">setModernColors</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> ProgressBarStyle::Gradient:</span><br><span class="line">				<span class="built_in">setGradientColors</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">case</span> ProgressBarStyle::Block:</span><br><span class="line">				<span class="built_in">setBlockColors</span>();</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setShowPercentage</span><span class="params">(<span class="type">bool</span> show)</span> </span>&#123; showPercentage = show; &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setShowValue</span><span class="params">(<span class="type">bool</span> show)</span> </span>&#123; showValue = show; &#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setAnimated</span><span class="params">(<span class="type">bool</span> animate)</span> </span>&#123; animated = animate; &#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 进度计算</span></span><br><span class="line">		<span class="function"><span class="type">long</span> <span class="type">double</span> <span class="title">getPercentage</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (maxValue == minValue) <span class="keyword">return</span> <span class="number">0.0f</span>;</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">static_cast</span>&lt;<span class="type">long</span> <span class="type">double</span>&gt;(currentValue - minValue) /</span><br><span class="line">				<span class="built_in">static_cast</span>&lt;<span class="type">long</span> <span class="type">double</span>&gt;(maxValue - minValue);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">		<span class="function"><span class="type">int</span> <span class="title">getProgressWidth</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="type">long</span> <span class="type">double</span> percentage = <span class="built_in">getPercentage</span>();</span><br><span class="line">			<span class="keyword">return</span> <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(percentage * (bounds.size.width)); <span class="comment">// 减去边框</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">drawClassicProgressBar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="type">int</span> progressWidth = <span class="built_in">getProgressWidth</span>();</span><br><span class="line">			<span class="type">int</span> barWidth = bounds.size.width;</span><br><span class="line">			<span class="type">int</span> blockCount = barWidth;  <span class="comment">// 每个块占1个字符宽度</span></span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line"></span><br><span class="line">			<span class="type">int</span> completedBlocks = progressWidth;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; blockCount; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (i &lt; completedBlocks)</span><br><span class="line">				&#123;</span><br><span class="line">					Color::<span class="built_in">setColor</span>(colors.progress, colors.background);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;=&quot;</span>;  <span class="comment">// 实心方块</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					Color::<span class="built_in">setColor</span>(colors.background, colors.background);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;_&quot;</span>;  <span class="comment">// 空心方块</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 绘制文本</span></span><br><span class="line">			<span class="built_in">drawProgressText</span>(bounds.position.y);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">drawModernProgressBar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="type">int</span> progressWidth = <span class="built_in">getProgressWidth</span>();</span><br><span class="line">			<span class="type">int</span> barWidth = bounds.size.width;</span><br><span class="line">			<span class="type">int</span> blockCount = barWidth;  <span class="comment">// 每个块占1个字符宽度</span></span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line"></span><br><span class="line">			<span class="type">int</span> completedBlocks = progressWidth;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; blockCount; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (i &lt; completedBlocks)</span><br><span class="line">				&#123;</span><br><span class="line">					Color::<span class="built_in">setColor</span>(colors.progress, colors.text);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;&gt;&quot;</span>;  <span class="comment">// 实心方块</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					Color::<span class="built_in">setColor</span>(colors.progress, colors.background);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;&lt;&quot;</span>;  <span class="comment">// 空心方块</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 绘制文本</span></span><br><span class="line">			<span class="built_in">drawProgressText</span>(bounds.position.y);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">drawGradientProgressBar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="type">int</span> progressWidth = <span class="built_in">getProgressWidth</span>();</span><br><span class="line">			<span class="type">int</span> barWidth = bounds.size.width;</span><br><span class="line">			<span class="type">int</span> blockCount = barWidth;  <span class="comment">// 每个块占1个字符宽度</span></span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line"></span><br><span class="line">			<span class="type">int</span> completedBlocks = progressWidth;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; blockCount; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (i &lt; completedBlocks)</span><br><span class="line">				&#123;</span><br><span class="line">					Color::<span class="built_in">setColor</span>(colors.progress, colors.background);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;=&quot;</span>;  <span class="comment">// 实心方块</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					Color::<span class="built_in">setColor</span>(colors.progress, colors.background);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;+&quot;</span>;  <span class="comment">// 空心方块</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 绘制文本</span></span><br><span class="line">			<span class="built_in">drawProgressText</span>(bounds.position.y);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// 块状样式</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">drawBlockProgressBar</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="type">int</span> progressWidth = <span class="built_in">getProgressWidth</span>();</span><br><span class="line">			<span class="type">int</span> barWidth = bounds.size.width;</span><br><span class="line">			<span class="type">int</span> blockCount = barWidth;  <span class="comment">// 每个块占1个字符宽度</span></span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(bounds.position.x, bounds.position.y);</span><br><span class="line"></span><br><span class="line">			<span class="type">int</span> completedBlocks = progressWidth;</span><br><span class="line"></span><br><span class="line">			<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; blockCount; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span> (i &lt; completedBlocks)</span><br><span class="line">				&#123;</span><br><span class="line">					Color::<span class="built_in">setColor</span>(colors.progress, colors.progress);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;[&quot;</span>;  <span class="comment">// 实心方块</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					Color::<span class="built_in">setColor</span>(colors.background, colors.background);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;]&quot;</span>;  <span class="comment">// 空心方块</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 绘制文本</span></span><br><span class="line">			<span class="built_in">drawProgressText</span>(bounds.position.y);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">		<span class="comment">// 绘制进度文本</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">drawProgressText</span><span class="params">(<span class="type">int</span> yPos)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (!showPercentage &amp;&amp; !showValue) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">			std::string text;</span><br><span class="line">			<span class="keyword">if</span> (showValue &amp;&amp; showPercentage)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> percentage = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">getPercentage</span>() * <span class="number">100</span>);</span><br><span class="line">				text = std::<span class="built_in">to_string</span>(currentValue) + <span class="string">&quot; (&quot;</span> + std::<span class="built_in">to_string</span>(percentage) + <span class="string">&quot;%)&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (showPercentage)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="type">int</span> percentage = <span class="built_in">static_cast</span>&lt;<span class="type">int</span>&gt;(<span class="built_in">getPercentage</span>() * <span class="number">100</span>);</span><br><span class="line">				text = std::<span class="built_in">to_string</span>(percentage) + <span class="string">&quot;%&quot;</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			&#123;</span><br><span class="line">				text = std::<span class="built_in">to_string</span>(currentValue) + <span class="string">&quot;/&quot;</span> + std::<span class="built_in">to_string</span>(maxValue);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			<span class="comment">// 居中显示文本</span></span><br><span class="line">			<span class="type">int</span> textX = bounds.position.x + (bounds.size.width - text.<span class="built_in">length</span>()) / <span class="number">2</span>;</span><br><span class="line">			<span class="keyword">if</span> (textX &lt; bounds.position.x) textX = bounds.position.x;</span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">setCursorPosition</span>(textX, yPos);</span><br><span class="line">			Color::<span class="built_in">setColor</span>(colors.text, Color::BLACK);</span><br><span class="line">			std::cout &lt;&lt; text;</span><br><span class="line">			Color::<span class="built_in">reset</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 颜色主题设置</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setClassicColors</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			colors.background = Color::BLUE;</span><br><span class="line">			colors.progress = Color::BRIGHT_CYAN;</span><br><span class="line">			colors.border = Color::WHITE;</span><br><span class="line">			colors.text = Color::BRIGHT_WHITE;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setModernColors</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			colors.background = Color::GRAY;</span><br><span class="line">			colors.progress = Color::BRIGHT_BLUE;</span><br><span class="line">			colors.border = Color::WHITE;</span><br><span class="line">			colors.text = Color::BRIGHT_WHITE;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setGradientColors</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			colors.background = Color::BLACK;</span><br><span class="line">			colors.progress = Color::GREEN;</span><br><span class="line">			colors.border = Color::WHITE;</span><br><span class="line">			colors.text = Color::BRIGHT_WHITE;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">setBlockColors</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			colors.background = Color::BLACK;</span><br><span class="line">			colors.progress = Color::BRIGHT_GREEN;</span><br><span class="line">			colors.border = Color::WHITE;</span><br><span class="line">			colors.text = Color::BRIGHT_WHITE;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br><span class="line">	<span class="comment">// 应用主类</span></span><br><span class="line">	<span class="keyword">class</span> <span class="title class_">Application</span> &#123;</span><br><span class="line">	<span class="keyword">private</span>:</span><br><span class="line">		std::vector&lt;Control*&gt; controls;</span><br><span class="line">		MouseInput mouse;</span><br><span class="line">		<span class="type">bool</span> running;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="type">bool</span> showDebug = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">		<span class="built_in">Application</span>() : <span class="built_in">running</span>(<span class="literal">false</span>) &#123; &#125;</span><br><span class="line"></span><br><span class="line">		~<span class="built_in">Application</span>()</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">auto</span> control : controls)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">delete</span> control;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">addControl</span><span class="params">(Control* control)</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			controls.<span class="built_in">push_back</span>(control);</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">run</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			running = <span class="literal">true</span>;</span><br><span class="line">			Console::<span class="built_in">hideCursor</span>();</span><br><span class="line">			Console::<span class="built_in">clear</span>();</span><br><span class="line"></span><br><span class="line">			<span class="keyword">while</span> (running)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">// 更新鼠标状态</span></span><br><span class="line">				mouse.<span class="built_in">update</span>();</span><br><span class="line"></span><br><span class="line">				<span class="comment">// 处理键盘输入</span></span><br><span class="line">				<span class="keyword">if</span> (_kbhit())</span><br><span class="line">				&#123;</span><br><span class="line">					<span class="type">int</span> ch = _getch();</span><br><span class="line"></span><br><span class="line">					<span class="comment">// 处理特殊键（方向键等）</span></span><br><span class="line">					<span class="keyword">if</span> (ch == <span class="number">0</span> || ch == <span class="number">224</span>)</span><br><span class="line">					&#123;</span><br><span class="line">						<span class="type">int</span> specialKey = _getch();</span><br><span class="line">						<span class="keyword">for</span> (<span class="keyword">auto</span> control : controls)</span><br><span class="line">						&#123;</span><br><span class="line">							TextBox* textBox = <span class="built_in">dynamic_cast</span>&lt;TextBox*&gt;(control);</span><br><span class="line">							<span class="keyword">if</span> (textBox)</span><br><span class="line">							&#123;</span><br><span class="line">								textBox-&gt;<span class="built_in">handleSpecialKey</span>(specialKey);</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">else</span></span><br><span class="line">					&#123;</span><br><span class="line">						<span class="comment">// 处理普通键</span></span><br><span class="line">						<span class="keyword">for</span> (<span class="keyword">auto</span> control : controls)</span><br><span class="line">						&#123;</span><br><span class="line">							TextBox* textBox = <span class="built_in">dynamic_cast</span>&lt;TextBox*&gt;(control);</span><br><span class="line">							<span class="keyword">if</span> (textBox)</span><br><span class="line">							&#123;</span><br><span class="line">								textBox-&gt;<span class="built_in">handleKeyInput</span>(ch);</span><br><span class="line">							&#125;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="keyword">if</span> (mouse.<span class="built_in">isLeftClick</span>())</span><br><span class="line">					<span class="keyword">for</span> (<span class="keyword">auto</span> control : controls)</span><br><span class="line">					&#123;</span><br><span class="line">						TextBox* textBox = <span class="built_in">dynamic_cast</span>&lt;TextBox*&gt;(control);</span><br><span class="line">						<span class="keyword">if</span> (textBox)</span><br><span class="line">						&#123;</span><br><span class="line">							textBox-&gt;<span class="built_in">setFocus</span>(<span class="literal">false</span>);</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// 处理所有控件的鼠标事件</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">auto</span> control : controls)</span><br><span class="line">				&#123;</span><br><span class="line">					control-&gt;<span class="built_in">handleMouse</span>(mouse);</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// 绘制所有控件</span></span><br><span class="line">				<span class="keyword">for</span> (<span class="keyword">auto</span> control : controls)</span><br><span class="line">				&#123;</span><br><span class="line">					control-&gt;<span class="built_in">draw</span>();</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="comment">// 显示鼠标位置（调试信息）</span></span><br><span class="line">				<span class="keyword">if</span> (mouse.<span class="built_in">isInWindow</span>() &amp;&amp; showDebug)</span><br><span class="line">				&#123;</span><br><span class="line">					POINT pos = mouse.<span class="built_in">getPosition</span>();</span><br><span class="line">					Console::<span class="built_in">setCursorPosition</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">					Color::<span class="built_in">setColor</span>(Color::BRIGHT_WHITE, Color::BLUE);</span><br><span class="line">					std::cout &lt;&lt; <span class="string">&quot;鼠标: (&quot;</span> &lt;&lt; pos.x &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; pos.y &lt;&lt; <span class="string">&quot;)    &quot;</span>;</span><br><span class="line">					Color::<span class="built_in">reset</span>();</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">				<span class="built_in">Sleep</span>(<span class="number">50</span>);</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">			Console::<span class="built_in">showCursor</span>();</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">stop</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123;</span><br><span class="line">			running = <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="function">MouseInput&amp; <span class="title">getMouse</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> mouse; &#125;</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// wbwConsoleGUI - dev by wbw121124 - GPLv3.0</span></span><br></pre></td></tr></table></figure>

      </div>
      
      
      
    </div>

    
    


    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">wbw121124</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">17k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">1:03</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div><div style="font-size: 0.85rem">
	<span id="timeDate">load</span>
	<span id="times">ing...</span>
	<script>
		!(function () {
			/** 计时起始时间，自行修改 **/
			var start = new Date("2025/05/01 00:00:00");

			function update() {
				var now = new Date();
				now.setTime(now.getTime() + 250);
				days = (now - start) / 1000 / 60 / 60 / 24;
				dnum = Math.floor(days);
				hours = (now - start) / 1000 / 60 / 60 - (24 * dnum);
				hnum = Math.floor(hours);
				if (String(hnum).length === 1) {
					hnum = "0" + hnum;
				}
				minutes = (now - start) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
				mnum = Math.floor(minutes);
				if (String(mnum).length === 1) {
					mnum = "0" + mnum;
				}
				seconds = (now - start) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
				snum = Math.round(seconds);
				if (String(snum).length === 1) {
					snum = "0" + snum;
				}
				document.getElementById("timeDate").innerHTML = "本站安全运行&nbsp" + dnum + "&nbsp天";
				document.getElementById("times").innerHTML = hnum + "&nbsp小时&nbsp" + mnum + "&nbsp分&nbsp" + snum + "&nbsp秒";
			}

			update();
			setInterval(update, 1000);
		})();
	</script>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/wbworg" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"wbwblog/wbwblog.github.io","issue_term":"pathname","theme":"github-dark"}</script>
<script src="/js/third-party/comments/utterances.js" defer></script>

</body>
</html>
