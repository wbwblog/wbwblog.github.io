<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous" defer></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"wbwblog.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":false,"copycode":{"enable":true,"style":"flat"},"fold":{"enable":true,"height":500},"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":true,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":true,"nav":{"utterances":{"order":-1}},"activeClass":"utterances"},"stickytabs":true,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":true,"preload":true}}</script><script src="/js/config.js" defer></script>



<link rel="canonical" href="https://wbwblog.github.io/2025/09/18/%E8%B5%9B%E5%89%8D%E8%AE%AD%E7%BB%832-%E8%BF%9E%E9%80%9A%E6%80%A7%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98%E2%80%94%E2%80%94%E6%80%BB%E7%BB%93/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://wbwblog.github.io/2025/09/18/%E8%B5%9B%E5%89%8D%E8%AE%AD%E7%BB%832-%E8%BF%9E%E9%80%9A%E6%80%A7%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98%E2%80%94%E2%80%94%E6%80%BB%E7%BB%93/","path":"2025/09/18/赛前训练2-连通性系列问题——总结/","title":"赛前训练2-连通性系列问题——总结"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>赛前训练2-连通性系列问题——总结 | wbw121124's blog</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/next-theme-pjax/0.6.0/pjax.min.js" integrity="sha256-vxLn1tSKWD4dqbMRyv940UYw4sXgMtYcK6reefzZrao=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js" integrity="sha256-j+yj56cdEY2CwkVtGyz18fNybFGpMGJ8JxG3GSyO2+I=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><script src="/js/bookmark.js" defer></script><script src="/js/pjax.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>

  <script class="next-config" data-name="pdf" type="application/json">{"object_url":{"url":"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.3.1/pdfobject.min.js","integrity":"sha256-jI72I8ZLVflVOisZIOaLvRew3tyvzeu6aZXFm7P7dEo="},"url":"/lib/pdf/web/viewer.html"}</script>
  <script src="/js/third-party/tags/pdf.js" defer></script>

  <script class="next-config" data-name="mermaid" type="application/json">{"enable":true,"theme":{"light":"default","dark":"dark"},"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.5.0/mermaid.min.js","integrity":"sha256-2obLuIPcceEhkE3G09G33hBdmE55ivVcZUlcKcGNHjU="}}</script>
  <script src="/js/third-party/tags/mermaid.js" defer></script>

  <script class="next-config" data-name="wavedrom" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/wavedrom.min.js","integrity":"sha256-INLAoJc6quTNfiMWkGZniYO2cxE8mHpddnLow1m6RFs="}}</script>
  <script class="next-config" data-name="wavedrom_skin" type="application/json">{"enable":true,"js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/wavedrom/3.5.0/skins/default.js","integrity":"sha256-fduc/Zszk5ezWws2uInY/ALWVmIrmV6VTgXbsYSReFI="}}</script>
  <script src="/js/third-party/tags/wavedrom.js" defer></script>


  <script src="/js/third-party/pace.js" defer></script>


  
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  

  <script class="next-config" data-name="enableMath" type="application/json">true</script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha256-UF1fgpAiu3tPJN/uCqEUHNe7pnr+QR0SQDNfgglgtcM=" crossorigin="anonymous">
  <script class="next-config" data-name="katex" type="application/json">{"copy_tex_js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js","integrity":"sha256-Us54+rSGDSTvIhKKUs4kygE2ipA0RXpWWh0/zLqw3bs="}}</script>
  <script src="/js/third-party/math/katex.js" defer></script>


<script class="next-config" data-name="subtitle_typing" type="application/json">{"enable":true,"typing_speed":50,"deleting_speed":10,"pause_before_delete":1000,"pause_before_type":50,"subtitles":["Welcome to my blog","Enjoy your stay","Have a great day!","Where there is a will, there is a way.","Hope for the best, plan for the worst.","Wisdom is more precious than wealth.","Action speaks louder than words.","Time and tide wait for no man.","Experience is the best teacher.","All that glitters is not gold.","Failure is the mother of success.","A journey of a thousand miles begins with a single step.","The early bird catches the worm.","Nothing is impossible to a willing heart.","Don't put off till tomorrow what you can do today.","Every cloud has a silver lining.","Haste makes waste.","Better late than never.","Honesty is the best policy.","Live and learn.","Health is wealth.","First impressions are the most lasting.","One man's meat is another man's poison.","A friend in need is a friend indeed.","Life is not all roses.","Think twice before you act.","Pride goes before a fall.","Two heads are better than one.","Well begun is half done.","To be, or not to be, that is the question.","Action speak louder than words.","An idle youth,a needy age.","All is well that ends well.","Misfortune is a good teacher.","Faith can move mountains.","He that promises too much means nothing.","He would climb the ladder must begin at the bottom.","If you are not inside a house, you don not know about its leaking.","It is never too late to mend.","Yesterday will not be called again.","Men will die for wealth, as bird for food.","Success belongs to the persevering.","The man who has made up his mind to win will never say \\impossible\\.","Nothing venture, nothing have.","If you fail, don't forget to learn your lesson.","No pain, no gain","We can only move forward, forward, by any means necessary to move forward.","Your fearlessness comes from ignorance.","Intelligence lies in diligence, and genius in accumulation.","Never be satisfied with learning; never be tired of teaching.","Books are the ladder of human progress.","An inch of time is an inch of gold, but you can't buy time with gold."]}</script>
    <script defer src="/lib/subtitle_typing.js"></script><script>
  window.addEventListener('DOMContentLoaded', () => {
    'use strict';
    
    let time, hidden, visible, title = document.title;
    let favicon = document.querySelector('link[rel="icon"]');
    
      hidden = 'hiding | wbw121124\'s Blog';
      visible = 'welcome back to wbw121124\'s Blog';
    
    let random = t => t[Math.floor(Math.random() * t.length)];
    const change = () => {
      if (document.hidden) {
        favicon.setAttribute('href', '/images/favicon-32x32-next.png');
        
          document.title = hidden;
        
        clearTimeout(time);
      } else {
        favicon.setAttribute('href', '/images/favicon-32x32-next.png');
        
          document.title = visible;
        
        time = setTimeout(() => {
          document.title = title;
        }, 2000);
      }
    }
    document.addEventListener('visibilitychange', change, false);
  });
</script>
<script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="150" mobile="false"
	src="/js/pen.js"></script>
<style>
	.anchorjs-link {
		transition: all .25s linear;
		margin-left: -0.25em !important;
	}

	*:hover>.anchorjs-link {
		margin-left: 0.1875em !important;
	}

	.main-inner,
	header,
	.sidebar-inner,
	.animated {
		border-radius: 5px !important;
	}

	.custom-logo-image {
		height: 50px;
	}
</style>
<!-- <script src="/js/anchor.min.js" onload="anchors.add();"></script> -->
<script type="module">
	import '/js/anchor.min.js';
	function addAnchors() {
		if (window.location.pathname!==''&&window.location.pathname!=='/'&&window.location.pathname!=='/index.html') {
			anchors.add();
		}
	}
	document.addEventListener('DOMContentLoaded', () => {
		addAnchors();
	});
	setInterval(() => {addAnchors(); }, 5000);
</script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<style>.darkmode--activated{--body-bg-color:#282828;--content-bg-color:#333;--card-bg-color:#555;--text-color:#ccc;--blockquote-color:#bbb;--link-color:#ccc;--link-hover-color:#eee;--brand-color:#ddd;--brand-hover-color:#ddd;--table-row-odd-bg-color:#282828;--table-row-hover-bg-color:#363636;--menu-item-bg-color:#555;--btn-default-bg:#222;--btn-default-color:#ccc;--btn-default-border-color:#555;--btn-default-hover-bg:#666;--btn-default-hover-color:#ccc;--btn-default-hover-border-color:#666;--highlight-background:#282b2e;--highlight-foreground:#a9b7c6;--highlight-gutter-background:#34393d;--highlight-gutter-foreground:#9ca9b6}.darkmode--activated img{opacity:.75}.darkmode--activated img:hover{opacity:.9}.darkmode--activated code{color:#69dbdc;background:0 0}button.darkmode-toggle{z-index:9999}.darkmode-ignore,img{display:flex!important}.beian img{display:inline-block!important}</style></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">wbw121124's blog</p>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">wbw121124的博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%B5%9B%E5%89%8D%E8%AE%AD%E7%BB%832-%E8%BF%9E%E9%80%9A%E6%80%A7%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93"><span class="nav-number">1.</span> <span class="nav-text"> 赛前训练2-连通性系列问题——总结</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#a"><span class="nav-number">1.1.</span> <span class="nav-text"> A</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E5%8E%9F%E5%9B%A0"><span class="nav-number">1.1.1.</span> <span class="nav-text"> 错误原因</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A3%E8%A7%A3"><span class="nav-number">1.1.2.</span> <span class="nav-text"> 正解</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#b"><span class="nav-number">1.2.</span> <span class="nav-text"> B</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%9D%E8%B7%AF"><span class="nav-number">1.2.1.</span> <span class="nav-text"> 思路</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#c"><span class="nav-number">1.3.</span> <span class="nav-text"> C</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E5%8E%9F%E5%9B%A0-2"><span class="nav-number">1.3.1.</span> <span class="nav-text"> 错误原因</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A3%E8%A7%A3-2"><span class="nav-number">1.3.2.</span> <span class="nav-text"> 正解</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#d"><span class="nav-number">1.4.</span> <span class="nav-text"> D</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E5%8E%9F%E5%9B%A0-3"><span class="nav-number">1.4.1.</span> <span class="nav-text"> 错误原因</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A3%E8%A7%A3-3"><span class="nav-number">1.4.2.</span> <span class="nav-text"> 正解</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="wbw121124"
      src="https://cdn.luogu.com.cn/upload/usericon/792595.png">
  <p class="site-author-name" itemprop="name">wbw121124</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">12</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/wbw121124" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wbw121124" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/wbw121124" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;wbw121124" rel="noopener me" target="_blank">CSDN</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wbwblog.github.io/2025/09/18/%E8%B5%9B%E5%89%8D%E8%AE%AD%E7%BB%832-%E8%BF%9E%E9%80%9A%E6%80%A7%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98%E2%80%94%E2%80%94%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.luogu.com.cn/upload/usericon/792595.png">
      <meta itemprop="name" content="wbw121124">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="wbw121124's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="赛前训练2-连通性系列问题——总结 | wbw121124's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          赛前训练2-连通性系列问题——总结<a href="https://github.com/wbwblog/wbwblog.github.io/edit/main/source/_posts/%E8%B5%9B%E5%89%8D%E8%AE%AD%E7%BB%832-%E8%BF%9E%E9%80%9A%E6%80%A7%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98%E2%80%94%E2%80%94%E6%80%BB%E7%BB%93.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pen-nib"></i></a>
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-09-19 00:00:00" itemprop="dateCreated datePublished" datetime="2025-09-19T00:00:00+08:00">2025-09-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-09-25 15:55:18" itemprop="dateModified" datetime="2025-09-25T15:55:18+08:00">2025-09-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">编程</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%80%BB%E7%BB%93/" itemprop="url" rel="index"><span itemprop="name">总结</span></a>
        </span>
          ，
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%BF%9E%E9%80%9A%E6%80%A7%E9%97%AE%E9%A2%98/" itemprop="url" rel="index"><span itemprop="name">连通性问题</span></a>
        </span>
    </span>

  
    <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv">
      <span class="post-meta-item-icon">
        <i class="far fa-eye"></i>
      </span>
      <span class="post-meta-item-text">阅读次数：</span>
      <span id="busuanzi_value_page_pv"></span>
    </span>
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>1.4k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>5 分钟</span>
    </span>
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="赛前训练2-连通性系列问题总结"><a class="markdownIt-Anchor" href="#赛前训练2-连通性系列问题总结"></a> 赛前训练2-连通性系列问题——总结</h1>
<h2 id="a"><a class="markdownIt-Anchor" href="#a"></a> A</h2>
<p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P2656">洛谷P2656</a></p>
<h3 id="错误原因"><a class="markdownIt-Anchor" href="#错误原因"></a> 错误原因</h3>
<p><code>double</code> 的精度不够，应开 <code>long double</code>。</p>
<h3 id="正解"><a class="markdownIt-Anchor" href="#正解"></a> 正解</h3>
<ol>
<li>条边只有在环上时，才可能多次经过，且一定会经过足够次直到边权为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>；</li>
<li>输入时维护 <code>x[i]</code>,<code>y[i]</code>,<code>w[i]</code>,<code>kw[i]</code> 其中 <code>kw[i]</code> 表示第i涤边迭代经过的总边权和；</li>
<li>缩点建新DAG图，跑最长路。</li>
</ol>
<span id="more"></span>
<pre class="highlight"><code class="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> int32;
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-meta">#<span class="hljs-keyword">define</span> double long double</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">8e4</span> + <span class="hljs-number">5</span>;
<span class="hljs-type">int</span> n, m, s, dfn[N], low[N], scc[N], sum[N], num, cnt, ans;
vector&lt;<span class="hljs-type">int</span>&gt;st;
<span class="hljs-type">bool</span> vis[N];
<span class="hljs-keyword">struct</span> <span class="hljs-title class_">node</span> &#123;
	<span class="hljs-type">int</span> nxt, w, w1;
&#125;;
vector&lt;node&gt;nbr[N], new_nbr[N];
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">work</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">double</span> y)</span>
</span>&#123;
	<span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;
	<span class="hljs-keyword">while</span> (x)
		sum += x, x *= y;
	<span class="hljs-keyword">return</span> sum;
&#125;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span>
</span>&#123;
	dfn[x] = low[x] = ++num, vis[x] = <span class="hljs-literal">true</span>;
	st.<span class="hljs-built_in">push_back</span>(x);
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; y : nbr[x])
	&#123;
		<span class="hljs-keyword">auto</span>&amp; nxt = y.nxt, &amp; w = y.w, &amp; w1 = y.w1;
		<span class="hljs-keyword">if</span> (!dfn[nxt])
		&#123;
			<span class="hljs-built_in">tarjan</span>(nxt);
			low[x] = <span class="hljs-built_in">min</span>(low[x], low[nxt]);
		&#125;
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (vis[nxt])
			low[x] = <span class="hljs-built_in">min</span>(low[x], dfn[nxt]);
	&#125;
	<span class="hljs-keyword">if</span> (dfn[x] == low[x])
	&#123;
		cnt++;
		<span class="hljs-keyword">while</span> (st.<span class="hljs-built_in">back</span>() != x)
		&#123;
			<span class="hljs-type">int</span> tmp = st.<span class="hljs-built_in">back</span>();
			st.<span class="hljs-built_in">pop_back</span>();
			vis[tmp] = <span class="hljs-literal">false</span>;
			scc[tmp] = cnt;
		&#125;
		st.<span class="hljs-built_in">pop_back</span>();
		vis[x] = <span class="hljs-literal">false</span>;
		scc[x] = cnt;
	&#125;
	<span class="hljs-keyword">return</span>;
&#125;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> sum)</span>
</span>&#123;
	ans = <span class="hljs-built_in">max</span>(ans, sum += ::sum[x]);
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; y : new_nbr[x])
	&#123;
		<span class="hljs-keyword">auto</span>&amp; nxt = y.nxt, &amp; w = y.w, &amp; w1 = y.w1;
		<span class="hljs-built_in">dfs</span>(nxt, sum + w);
	&#125;
	<span class="hljs-keyword">return</span>;
&#125;
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>&#123;
	ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);
	cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);
	cin &gt;&gt; n &gt;&gt; m;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)
	&#123;
		<span class="hljs-type">int</span> x, y, z;
		<span class="hljs-type">double</span> u;
		cin &gt;&gt; x &gt;&gt; y &gt;&gt; z &gt;&gt; u;
		nbr[x].<span class="hljs-built_in">push_back</span>(&#123; y,z,<span class="hljs-built_in">work</span>(z, u) &#125;);
	&#125;
	cin &gt;&gt; s;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
		<span class="hljs-keyword">if</span> (!dfn[i])
			<span class="hljs-built_in">tarjan</span>(i);
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; y : nbr[i])
		&#123;
			<span class="hljs-keyword">auto</span>&amp; nxt = y.nxt, &amp; w = y.w, &amp; w1 = y.w1;
			<span class="hljs-keyword">if</span> (scc[i] != scc[nxt])
				new_nbr[scc[i]].<span class="hljs-built_in">push_back</span>(&#123; scc[nxt],w,w1 &#125;);
			<span class="hljs-keyword">else</span>
				sum[scc[i]] += w1;
		&#125;
	<span class="hljs-built_in">dfs</span>(scc[s], <span class="hljs-number">0</span>);
	cout &lt;&lt; ans;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
</code></pre>
<h2 id="b"><a class="markdownIt-Anchor" href="#b"></a> B</h2>
<p><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1000/E">CF1000E</a></p>
<h3 id="思路"><a class="markdownIt-Anchor" href="#思路"></a> 思路</h3>
<ul>
<li>跑求割边的 tarjan，再把每一个边双连通分量缩成一个点，最后求树的直径。</li>
</ul>
<pre class="highlight"><code class="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> int32;
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">3e5</span> + <span class="hljs-number">5</span>;
<span class="hljs-type">int</span> n, m, root, num, dfn[N], low[N], dcc[N], cnt, dis;
vector&lt;pair&lt;<span class="hljs-type">int</span>,<span class="hljs-type">int</span>&gt;&gt;nbr[N], new_nbr[N];
<span class="hljs-type">bool</span> cut[N];
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">tarjan</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> edge)</span>
</span>&#123;
	dfn[x] = low[x] = ++num;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; y : nbr[x])
	&#123;
		<span class="hljs-keyword">auto</span>&amp; nxt = y.first, &amp; w = y.second;
		<span class="hljs-keyword">if</span> (!dfn[nxt])
		&#123;
			<span class="hljs-built_in">tarjan</span>(nxt, w);
			low[x] = <span class="hljs-built_in">min</span>(low[x], low[nxt]);
			cut[w] |= low[nxt] &gt; dfn[x];
		&#125;
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (w != edge)
			low[x] = <span class="hljs-built_in">min</span>(low[x], dfn[nxt]);
	&#125;
	<span class="hljs-keyword">return</span>;
&#125;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span>
</span>&#123;
	dcc[x] = cnt;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; y : nbr[x])
	&#123;
		<span class="hljs-keyword">auto</span>&amp; nxt = y.first, w = y.second;
		<span class="hljs-keyword">if</span> (!cut[w] &amp;&amp; !dcc[nxt])
			<span class="hljs-built_in">dfs</span>(nxt);
	&#125; 
	<span class="hljs-keyword">return</span>;
&#125;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs1</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> fa, <span class="hljs-type">int</span>&amp; to, <span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>)</span>
</span>&#123;
	<span class="hljs-keyword">if</span> (sum &gt;= dis)
	&#123;
		to = x;
		dis = sum;
	&#125;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; y : new_nbr[x])
	&#123;
		<span class="hljs-keyword">auto</span>&amp; nxt = y.first, w = y.second;
		<span class="hljs-keyword">if</span> (nxt != fa)
			<span class="hljs-built_in">dfs1</span>(nxt, x, to, sum + <span class="hljs-number">1</span>);
	&#125; 
	<span class="hljs-keyword">return</span>;
&#125;
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>&#123;
	ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);
	cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);
	cin &gt;&gt; n &gt;&gt; m;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++)
	&#123;
		<span class="hljs-type">int</span> x, y;
		cin &gt;&gt; x &gt;&gt; y;
		nbr[x].<span class="hljs-built_in">push_back</span>(&#123; y,i &#125;);
		nbr[y].<span class="hljs-built_in">push_back</span>(&#123; x,i &#125;);
	&#125;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
		<span class="hljs-keyword">if</span> (!dfn[i])
			root = i, <span class="hljs-built_in">tarjan</span>(i, <span class="hljs-number">0</span>);
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
		<span class="hljs-keyword">if</span> (!dcc[i])
			cnt++, <span class="hljs-built_in">dfs</span>(i);
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; y : nbr[i])
		&#123;
			<span class="hljs-keyword">auto</span>&amp; nxt = y.first, w = y.second;
			<span class="hljs-keyword">if</span> (dcc[i] != dcc[nxt])
				new_nbr[dcc[i]].<span class="hljs-built_in">push_back</span>(&#123; dcc[nxt],w &#125;);
		&#125;
	<span class="hljs-type">int</span> x = <span class="hljs-number">0</span>, y = <span class="hljs-number">0</span>;
	<span class="hljs-built_in">dfs1</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, x);
	dis = <span class="hljs-number">0</span>;
	<span class="hljs-built_in">dfs1</span>(x, <span class="hljs-number">0</span>, y);
	cout &lt;&lt; dis;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
</code></pre>
<h2 id="c"><a class="markdownIt-Anchor" href="#c"></a> C</h2>
<p><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1763/E">CF1763E</a></p>
<h3 id="错误原因-2"><a class="markdownIt-Anchor" href="#错误原因-2"></a> 错误原因</h3>
<p>dp的状态转移方程写错了。</p>
<h3 id="正解-2"><a class="markdownIt-Anchor" href="#正解-2"></a> 正解</h3>
<ol>
<li>有向图的点对只有三种关系：单向对、双向对、不连通；</li>
<li>p可达图就是要构造恰好 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 组点对是强连通的有向图；</li>
<li>给定 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord mathnormal">i</span></span></span></span> 个点，强连通的点对数介于 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo fence="true">[</mo><mn>0</mn><mo separator="true">,</mo><mfrac><mrow><mi>i</mi><mo stretchy="false">(</mo><mi>i</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac><mo fence="true">]</mo></mrow><annotation encoding="application/x-tex">\left[0,\frac{i(i-1)}{2}\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size2">[</span></span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size2">]</span></span></span></span></span></span>；</li>
<li>要追求恰好 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 组强连通点对，那么构造的图应该是若干 scc 的图；</li>
<li>把 scc 看作物品，把 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><mo stretchy="false">(</mo><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><mn>2</mn></mfrac></mrow><annotation encoding="application/x-tex">\frac{ {size} ({size}-1) } {2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.355em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.01em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.485em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="mord mathnormal mtight">e</span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span><span class="mord mathnormal mtight">e</span></span><span class="mbin mtight">−</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span> 看作重量，把点数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">{size}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord mathnormal">e</span></span></span></span></span> 看作价值，问题转化为放满容量为 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>p</mi></mrow><annotation encoding="application/x-tex">p</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">p</span></span></span></span> 的背包的最小价值。</li>
</ol>
<pre class="highlight"><code class="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> int32;
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">2e5</span> + <span class="hljs-number">5</span>;
<span class="hljs-type">int</span> n, dp[N];
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>&#123;
	ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);
	cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);
	dp[<span class="hljs-number">1</span>] = <span class="hljs-number">2</span>;
	cin &gt;&gt; n;
	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)	
	&#123;
		dp[i] = INT_MAX;
		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">2</span>; ; j++)
			<span class="hljs-keyword">if</span> (j * (j - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> &lt;= i)
				dp[i] = <span class="hljs-built_in">min</span>(dp[i], j + dp[i - j * (j - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>]);
			<span class="hljs-keyword">else</span>
				<span class="hljs-keyword">break</span>;
	&#125;
	cout &lt;&lt; dp[n] &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span> &lt;&lt; dp[n] * (dp[n] - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> - n;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
</code></pre>
<h2 id="d"><a class="markdownIt-Anchor" href="#d"></a> D</h2>
<p><a target="_blank" rel="noopener" href="https://codeforces.com/problemset/problem/1761/E">CF1761E</a></p>
<h3 id="错误原因-3"><a class="markdownIt-Anchor" href="#错误原因-3"></a> 错误原因</h3>
<p>写了假解。</p>
<h3 id="正解-3"><a class="markdownIt-Anchor" href="#正解-3"></a> 正解</h3>
<ol>
<li>选择点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 操作时，尽可能不要让 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">×</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span> 从原本的连通块分离；</li>
<li>当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> 和所在连通块的每个都连了边时，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>才会分离；</li>
<li>只要是存在非完全图，那么就一定可以选出点 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span>，使得至多操作 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 次完成任务；</li>
<li>而后分类讨论：
<ul>
<li>本来连通：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span> 次；</li>
<li>不连通
<ul>
<li>只有完全图
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 个完全图，每个操作等价于每次移动 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个点到另一个完全图：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>min</mi><mo>⁡</mo><mo stretchy="false">(</mo><msub><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><mn>1</mn></msub><mo separator="true">,</mo><msub><mrow><mi>s</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><mn>2</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min({size}_1,{size}_2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mop">min</span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>；</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&gt;</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">&gt;2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 个完全图：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 次</li>
</ul>
</li>
<li>存在非完全图：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 次。</li>
</ul>
</li>
</ul>
</li>
</ol>
<pre class="highlight"><code class="cpp"><span class="hljs-meta">#<span class="hljs-keyword">include</span><span class="hljs-string">&lt;bits/stdc++.h&gt;</span></span>
<span class="hljs-keyword">typedef</span> <span class="hljs-type">int</span> int32;
<span class="hljs-meta">#<span class="hljs-keyword">define</span> int long long</span>
<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> std;
<span class="hljs-type">const</span> <span class="hljs-type">int</span> N = <span class="hljs-number">4e3</span> + <span class="hljs-number">5</span>;
<span class="hljs-type">int</span> t, n, in[N], fa[N], size[N], sum[N], cnt, tot;
<span class="hljs-type">char</span> c[N][N];
vector&lt;<span class="hljs-type">int</span>&gt;ans;
<span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span>
</span>&#123;
	<span class="hljs-keyword">return</span> x == fa[x] ? x : fa[x] = <span class="hljs-built_in">find</span>(fa[x]);
&#125;
<span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">unionn</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span>
</span>&#123;
	x = <span class="hljs-built_in">find</span>(x);
	y = <span class="hljs-built_in">find</span>(y);
	<span class="hljs-keyword">if</span> (x != y)
	&#123;
		fa[x] = y;
		::size[y] += ::size[x];
	&#125;
	<span class="hljs-keyword">return</span>;
&#125;
<span class="hljs-function"><span class="hljs-type">signed</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>&#123;
	ios::<span class="hljs-built_in">sync_with_stdio</span>(<span class="hljs-number">0</span>);
	cin.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>), cout.<span class="hljs-built_in">tie</span>(<span class="hljs-number">0</span>);
	cin &gt;&gt; t;
	<span class="hljs-keyword">while</span> (t--)
	&#123;
		cin &gt;&gt; n;
		ans.<span class="hljs-built_in">clear</span>();
		cnt = tot = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
			fa[i] = i, ::size[i] = <span class="hljs-number">1</span>, sum[i] = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
		&#123;
			in[i] = <span class="hljs-number">0</span>;
			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++)
			&#123;
				cin &gt;&gt; c[i][j];
				<span class="hljs-keyword">if</span> (c[i][j] - <span class="hljs-string">&#x27;0&#x27;</span>)
				&#123;
					in[i]++;
					<span class="hljs-built_in">unionn</span>(i, j);
				&#125;
			&#125;
		&#125;
		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
			<span class="hljs-keyword">if</span> (in[i] == ::size[<span class="hljs-built_in">find</span>(i)] - <span class="hljs-number">1</span>)
				sum[<span class="hljs-built_in">find</span>(i)]++;
		<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
			<span class="hljs-keyword">if</span> (fa[i] == i)
				<span class="hljs-keyword">if</span> (sum[i] == ::size[i] &amp;&amp; ::size[i] &gt; <span class="hljs-number">1</span>)
					cnt++;
				<span class="hljs-keyword">else</span>
					tot++;
		<span class="hljs-keyword">if</span> (cnt + tot == <span class="hljs-number">1</span>)
		&#123;
			cout &lt;&lt; <span class="hljs-string">&quot;0\n&quot;</span>;
			<span class="hljs-keyword">continue</span>;
		&#125;
		<span class="hljs-keyword">if</span> (tot)
		&#123;
			<span class="hljs-type">int</span> pos = <span class="hljs-number">0</span>;
			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
				<span class="hljs-keyword">if</span> (in[i] &lt; ::size[<span class="hljs-built_in">find</span>(i)] - <span class="hljs-number">1</span> || !in[i])
					<span class="hljs-keyword">if</span> (n - in[i] &gt; n - in[pos] || !pos)
						pos = i;
			ans.<span class="hljs-built_in">push_back</span>(pos);
		&#125;
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cnt == <span class="hljs-number">2</span>)
		&#123;
			<span class="hljs-type">int</span> pos = <span class="hljs-number">1</span>;
			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)
				<span class="hljs-keyword">if</span> (sum[<span class="hljs-built_in">find</span>(i)] &lt; sum[<span class="hljs-built_in">find</span>(pos)])
					pos = <span class="hljs-built_in">find</span>(i);
			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
				<span class="hljs-keyword">if</span> (<span class="hljs-built_in">find</span>(pos) == <span class="hljs-built_in">find</span>(i))
					ans.<span class="hljs-built_in">push_back</span>(i);
		&#125;
		<span class="hljs-keyword">else</span>
		&#123;
			<span class="hljs-type">int</span> pos = <span class="hljs-number">1</span>;
			ans.<span class="hljs-built_in">push_back</span>(<span class="hljs-number">1</span>);
			<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)
				<span class="hljs-keyword">if</span> (<span class="hljs-built_in">find</span>(i) != <span class="hljs-built_in">find</span>(pos))
				&#123;
					ans.<span class="hljs-built_in">push_back</span>(i);
					<span class="hljs-keyword">break</span>;
				&#125;
		&#125;
		cout &lt;&lt; ans.<span class="hljs-built_in">size</span>() &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; x : ans)
			cout &lt;&lt; x &lt;&lt; <span class="hljs-string">&#x27; &#x27;</span>;
		cout &lt;&lt; <span class="hljs-string">&#x27;\n&#x27;</span>;
	&#125;
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;
</code></pre>

    </div>

    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>wbw121124
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="https://wbwblog.github.io/2025/09/18/%E8%B5%9B%E5%89%8D%E8%AE%AD%E7%BB%832-%E8%BF%9E%E9%80%9A%E6%80%A7%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98%E2%80%94%E2%80%94%E6%80%BB%E7%BB%93/" title="赛前训练2-连通性系列问题——总结">https://wbwblog.github.io/2025/09/18/赛前训练2-连通性系列问题——总结/</a>
  </li>
  <li class="post-copyright-license">
      <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

          <div class="followme">
  <span>欢迎关注我的其它发布渠道</span>

  <div class="social-list">

      <div class="social-item">
          <a target="_blank" class="social-link" href="https://github.com/wbw121124">
            <span class="icon">
              <i class="fab fa-github"></i>
            </span>

            <span class="label">github</span>
          </a>
      </div>
  </div>
</div>

          <div class="post-tags">
              <a href="/tags/%E6%80%BB%E7%BB%93/" rel="tag"># 总结</a>
              <a href="/tags/%E8%BF%9E%E9%80%9A%E6%80%A7%E9%97%AE%E9%A2%98/" rel="tag"># 连通性问题</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
            </div>
            <div class="post-nav-item">
                <a href="/2025/09/17/918/" rel="next" title="吾辈自强，勿忘九一八！">
                  吾辈自强，勿忘九一八！ <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">wbw121124</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
      <span>站点总字数：</span>
    <span title="站点总字数">15k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span>站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">56 分钟</span>
  </span>
</div>
<div class="busuanzi-count">
    <span class="post-meta-item" id="busuanzi_container_site_uv">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-item" id="busuanzi_container_site_pv">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div><div style="font-size: 0.85rem">
	<span id="timeDate">load</span>
	<span id="times">ing...</span>
	<script>
		!(function () {
			/** 计时起始时间，自行修改 **/
			var start = new Date("2025/05/01 00:00:00");

			function update() {
				var now = new Date();
				now.setTime(now.getTime() + 250);
				days = (now - start) / 1000 / 60 / 60 / 24;
				dnum = Math.floor(days);
				hours = (now - start) / 1000 / 60 / 60 - (24 * dnum);
				hnum = Math.floor(hours);
				if (String(hnum).length === 1) {
					hnum = "0" + hnum;
				}
				minutes = (now - start) / 1000 / 60 - (24 * 60 * dnum) - (60 * hnum);
				mnum = Math.floor(minutes);
				if (String(mnum).length === 1) {
					mnum = "0" + mnum;
				}
				seconds = (now - start) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
				snum = Math.round(seconds);
				if (String(snum).length === 1) {
					snum = "0" + snum;
				}
				document.getElementById("timeDate").innerHTML = "本站安全运行&nbsp" + dnum + "&nbsp天";
				document.getElementById("times").innerHTML = hnum + "&nbsp小时&nbsp" + mnum + "&nbsp分&nbsp" + snum + "&nbsp秒";
			}

			update();
			setInterval(update, 1000);
		})();
	</script>
</div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"wbwblog/wbwblog.github.io","issue_term":"pathname","theme":"github-dark"}</script>
<script src="/js/third-party/comments/utterances.js" defer></script>

</body>
</html>
